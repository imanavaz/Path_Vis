/*! lineupjs - v1.1.1 - 2017
* https://github.com/Caleydo/lineupjs
* Copyright (c) 2017 Caleydo Team; Licensed BSD-3-Clause*/
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3")):"function"==typeof define&&define.amd?define(["d3"],e):"object"==typeof exports?exports.LineUpJS=e(require("d3")):t.LineUpJS=e(t.d3)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=78)}([function(e,n){e.exports=t},function(t,e,n){"use strict";function r(t,e,n){void 0===e&&(e=100),void 0===n&&(n=this);var r=-1;return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];r>=0&&(clearTimeout(r),r=-1),i.unshift(null===n?this:n),r=setTimeout(t.bind.apply(t,i),e)}}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=null,r=0,o=t;r<o.length;r++){var a=o[r],s=Object.keys(a);if(null!==n)for(var c=0,l=s;c<l.length;c++){var u=l[c],p=a[u];Object.prototype.toString.call(p)===b&&Object.getPrototypeOf(p)===Object.prototype?(void 0===n[u]&&(n[u]={}),n[u]=i(n[u],p)):Array.isArray(p)?(void 0===n[u]&&(n[u]=[]),n[u]=p.concat(n[u])):n[u]=p}else n=a}return n}function o(t){var e=t.getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:e.width,height:e.height}}function a(t,e){var n=t.dataTransfer.types;return"function"==typeof n.indexOf?e.some(function(t){return n.indexOf(t)>=0}):"function"==typeof n.includes?e.some(function(t){return n.includes(t)}):"function"==typeof n.contains&&e.some(function(t){return n.contains(t)})}function s(t){var e=t.dataTransfer;return t.ctrlKey&&null!=e.effectAllowed.match(/copy/gi)||null==e.effectAllowed.match(/move/gi)}function c(t){var e=t.dataTransfer;s(t)?e.dropEffect="copy":e.dropEffect="move"}function l(t,e){return function(r){r.on("dragenter",function(){if(a(m.event,t))return n.i(m.select)(this).classed("drag_over",!0),!1;n.i(m.select)(this).classed("drag_over",!1)}).on("dragover",function(){var e=m.event;if(a(e,t))return e.preventDefault(),c(e),n.i(m.select)(this).classed("drag_over",!0),!1}).on("dragleave",function(){n.i(m.select)(this).classed("drag_over",!1)}).on("drop",function(r){var i=m.event;if(i.preventDefault(),n.i(m.select)(this).classed("drag_over",!1),a(i,t)){var o={};return t.forEach(function(t){var e=i.dataTransfer.getData(t);""!==e&&(o[t]=e)}),e(o,r,s(i))}})}}function u(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),Object.keys(e).forEach(function(n){return t.setAttribute(n,String(e[n]))}),Object.keys(n).forEach(function(e){return t.style.setProperty(e,n[e])}),t}function p(t,e,n){Array.prototype.slice.call(t.querySelectorAll(e)).forEach(n)}function h(t){return t.font="10pt FontAwesome",t.measureText("").width}function d(t,e){var n=t.font,r=h(t);t.font=e;var i="abcdefghijklmnopqrstuvwxyz",o=i+i.toUpperCase()+"0123456789",a={maxLetterWidth:t.measureText("M").width,avgLetterWidth:t.measureText(o).width/o.length,ellipsisWidth:t.measureText(N).width,spinnerWidth:r};return t.font=n,a}function f(t,e,n,r,i,o){var a=function(e){return t.fillText(e,n,r,i)};if(o.maxLetterWidth*e.length<=i||i<=o.ellipsisWidth||0===e.length)return a(e);if(t.measureText(e).width<=i)return a(e);for(var s=i-o.ellipsisWidth,c=0,l=e.length-1,u=Math.min(l,Math.floor(i/o.avgLetterWidth));c<l;){var p=s-t.measureText(e.substring(0,u+1)).width;if(p<0)l=u-1;else{if(!(p>0))break;c=u+1}u=Math.floor((l+c)/2)}return a(e.substring(0,c+1)+N)}function g(t,e,n){var r=document.querySelector("div.lu-overlay#O"+t);return r||(r=document.createElement("div"),r.classList.add("lu-overlay"),r.id="O"+t,document.querySelector(".lu-body").appendChild(r)),r.style.display="block",r.style.left=e+"px",r.style.top=n+"px",r}function y(){p(document.querySelector("div.lu-body"),"div.lu-overlay",function(t){return t.style.display=null})}function v(t,e,n){function r(e,n){var r=t.childElementCount<=n?null:t.childNodes[n];return null!=r&&r.getAttribute("data-column-id")===e.column.id&&r.getAttribute("data-renderer")===e.column.getRendererType()}if(void 0===n&&(n="svg"),0===t.childElementCount)return t.innerHTML=e.map(function(t){return t.renderer.template}).join(""),void e.forEach(function(e,n){var r=t.childNodes[n];r.setAttribute("data-column-id",e.column.id),r.setAttribute("data-renderer",e.column.getRendererType())});if(!e.every(r)){var i=new Set(e.map(function(t){return t.column.id+"@"+t.column.getRendererType()}));Array.prototype.slice.call(t.childNodes).forEach(function(e){var n=e.getAttribute("data-column-id"),r=e.getAttribute("data-renderer"),o=n+"@"+r;i.has(o)||t.removeChild(e)});var o="svg"===n?document.createElementNS("http://www.w3.org/2000/svg","g"):document.createElement("div");e.forEach(function(e){var n=t.querySelector('[data-column-id="'+e.column.id+'"]');n||(o.innerHTML=e.renderer.template,n=o.childNodes[0],n.setAttribute("data-column-id",e.column.id),n.setAttribute("data-renderer",e.column.getRendererType())),t.appendChild(n)})}}var m=n(0);n.n(m);e.d=r,n.d(e,"c",function(){return _}),e.a=i,e.m=o,n.d(e,"b",function(){return T}),e.l=l,e.h=u,e.j=p,e.f=d,e.g=f,e.k=g,e.e=y,e.i=v;var E=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},_=function(){function t(){this.listeners=m.dispatch.apply(void 0,this.createEventList());var t=this;this.forwarder=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.fire.apply(t,[this.type].concat(e))}}return t.prototype.on=function(t,e){var n=this;return arguments.length>1?(Array.isArray(t)?t.forEach(function(t){return n.listeners.on(t,e)}):this.listeners.on(t,e),this):this.listeners.on(t)},t.prototype.createEventList=function(){return[]},t.prototype.fire=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=function(t){var r={source:e,type:t,args:n};e.listeners[t].apply(r,n)};Array.isArray(t)?t.forEach(i.bind(this)):i(t)},t.prototype.forward=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.on(e,this.forwarder)},t.prototype.unforward=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.on(e,null)},t}(),b="[object Object]",T=function(t){function e(e,r,a){void 0===a&&(a={});var s=t.call(this)||this;return s.container=e,s.content=r,s.options={topShift:function(){return 0},backupRows:5,rowHeight:10},s.prevScrollTop=0,s.shift=0,i(s.options,a),n.i(m.select)(e).on("scroll.scroller",function(){return s.onScroll()}),s.prevScrollTop=e.scrollTop,s.shift=o(r).top-o(e).top,s}return E(e,t),e.prototype.createEventList=function(){return t.prototype.createEventList.call(this).concat([e.EVENT_REDRAW,e.EVENT_SCROLL])},e.prototype.scrollIntoView=function(t,e,n,r){var i=this.selectImpl(t,e,r,0);if(!(i.from<=n&&n<=i.to)){var o=r(n)-10,a=this.container.scrollHeight-this.container.clientHeight;this.container.scrollTop=Math.max(0,Math.min(a,o))}},e.prototype.select=function(t,e,n){return this.selectImpl(t,e,n,this.options.backupRows)},e.prototype.selectImpl=function(t,e,n,r){var i,o=this.container.scrollTop-this.shift-this.options.topShift(),a=o+this.container.clientHeight,s=0;if(o>0){for(s=Math.round(o/this.options.rowHeight);s>=t&&n(s+1)>o;)s--;s-=r}for(i=Math.round(a/this.options.rowHeight);i<=e&&n(i-1)<a;)i++;return i+=r,{from:Math.max(s,t),to:Math.min(i,e)}},e.prototype.onScroll=function(){var t=this.container.scrollTop,n=this.container.scrollLeft;this.fire(e.EVENT_SCROLL,t,n),Math.abs(this.prevScrollTop-t)>=this.options.rowHeight*this.options.backupRows&&(this.prevScrollTop=t,this.fire(e.EVENT_REDRAW))},e.prototype.destroy=function(){n.i(m.select)(this.container).on("scroll.scroller",null)},e}(_);T.EVENT_SCROLL="scroll",T.EVENT_REDRAW="redraw";var N="…"},function(t,e,n){"use strict";function r(t){return t.replace(/[\s!#$%&'()*+,.\/:;<=>?@\[\\\]\^`{|}~]/g,"_")}var i=n(1);e.b=r;var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(n,i){var o=t.call(this)||this;return o.desc=i,o.width=100,o.parent=null,o.compressed=!1,o.uid=r(n),o.rendererInfo={rendererType:o.desc.rendererType||o.desc.type,rendererList:[]},o.cssClass=i.cssClass||"",o.metadata={label:i.label||o.id,description:i.description||"",color:i.color||(""!==o.cssClass?null:e.DEFAULT_COLOR)},o}return o(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.uid},enumerable:!0,configurable:!0}),e.prototype.assignNewId=function(t){this.uid=r(t())},Object.defineProperty(e.prototype,"label",{get:function(){return this.metadata.label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this.metadata.description},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.metadata.color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerCssClass",{get:function(){return this.desc.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fqid",{get:function(){return this.parent?this.parent.fqid+"_"+this.id:this.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fqpath",{get:function(){return this.parent?this.parent.fqpath+"@"+this.parent.indexOf(this):""},enumerable:!0,configurable:!0}),e.prototype.createEventList=function(){return t.prototype.createEventList.call(this).concat([e.EVENT_WIDTH_CHANGED,e.EVENT_FILTER_CHANGED,e.EVENT_LABEL_CHANGED,e.EVENT_METADATA_CHANGED,e.EVENT_COMPRESS_CHANGED,e.EVENT_ADD_COLUMN,e.EVENT_REMOVE_COLUMN,e.EVENT_RENDERER_TYPE_CHANGED,e.EVENT_SORTMETHOD_CHANGED,e.EVENT_DIRTY,e.EVENT_DIRTY_HEADER,e.EVENT_DIRTY_VALUES])},e.prototype.getWidth=function(){return this.width},e.prototype.isHidden=function(){return this.width<=0},e.prototype.hide=function(){return this.setWidth(0)},e.prototype.setCompressed=function(t){this.compressed!==t&&this.fire([e.EVENT_COMPRESS_CHANGED,e.EVENT_DIRTY_HEADER,e.EVENT_DIRTY_VALUES,e.EVENT_DIRTY],this.compressed,this.compressed=t)},e.prototype.getCompressed=function(){return this.compressed},e.prototype.flatten=function(t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var o=this.compressed?e.COMPRESSED_WIDTH:this.getWidth();return t.push({col:this,offset:n,width:o}),o},e.prototype.setWidth=function(t){this.width!==t&&this.fire([e.EVENT_WIDTH_CHANGED,e.EVENT_DIRTY_HEADER,e.EVENT_DIRTY_VALUES,e.EVENT_DIRTY],this.width,this.width=t)},e.prototype.setWidthImpl=function(t){this.width=t},e.prototype.setMetaData=function(t){if(t.label!==this.label||this.color!==t.color||this.description!==t.description){var n=this.color===t.color?[e.EVENT_LABEL_CHANGED,e.EVENT_METADATA_CHANGED,e.EVENT_DIRTY_HEADER,e.EVENT_DIRTY]:[e.EVENT_LABEL_CHANGED,e.EVENT_METADATA_CHANGED,e.EVENT_DIRTY_HEADER,e.EVENT_DIRTY_VALUES,e.EVENT_DIRTY],r=this.getMetaData();this.metadata={label:t.label,color:t.color,description:t.description},this.fire(n,r,this.getMetaData())}},e.prototype.getMetaData=function(){return{label:this.label,color:this.color,description:this.description}},e.prototype.sortByMe=function(t){void 0===t&&(t=!1);var e=this.findMyRanker();return!!e&&e.sortBy(this,t)},e.prototype.toggleMySorting=function(){var t=this.findMyRanker();return!!t&&t.toggleSorting(this)},e.prototype.removeMe=function(){return!!this.parent&&this.parent.remove(this)},e.prototype.insertAfterMe=function(t){return!!this.parent&&null!=this.parent.insertAfter(t,this)},e.prototype.findMyRanker=function(){return this.parent?this.parent.findMyRanker():null},e.prototype.dump=function(t){var n={id:this.id,desc:t(this.desc),width:this.width,compressed:this.compressed};return this.label!==(this.desc.label||this.id)&&(n.label=this.label),this.color!==(this.desc.color||e.DEFAULT_COLOR)&&this.color&&(n.color=this.color),this.getRendererType()!==this.desc.type&&(n.rendererType=this.getRendererType()),n},e.prototype.restore=function(t,e){this.width=t.width||this.width,this.metadata={label:t.label||this.label,color:t.color||this.color,description:this.description},this.compressed=t.compressed===!0,t.rendererType&&(this.rendererInfo.rendererType=t.rendererType)},e.prototype.getLabel=function(t,e){return""+this.getValue(t,e)},e.prototype.getValue=function(t,e){return""},e.prototype.compare=function(t,e,n,r){return 0},e.prototype.isFiltered=function(){return!1},e.prototype.filter=function(t,e){return null!==t},e.prototype.getRendererType=function(){return this.rendererInfo.rendererType},e.prototype.setRendererType=function(t){t!==this.rendererInfo.rendererType&&this.fire([e.EVENT_RENDERER_TYPE_CHANGED,e.EVENT_DIRTY_VALUES,e.EVENT_DIRTY],this.rendererInfo.rendererType,this.rendererInfo.rendererType=t)},e.prototype.getRendererList=function(){return this.rendererInfo.rendererList},e.prototype.setRendererList=function(t){this.rendererInfo.rendererList=t},e.prototype.toSortingDesc=function(t){return t(this.desc)},e}(i.c);e.a=a,a.DEFAULT_COLOR="#C1C1C1",a.FLAT_ALL_COLUMNS=-1,a.COMPRESSED_WIDTH=16,a.EVENT_WIDTH_CHANGED="widthChanged",a.EVENT_FILTER_CHANGED="filterChanged",a.EVENT_LABEL_CHANGED="labelChanged",a.EVENT_METADATA_CHANGED="metaDataChanged",a.EVENT_COMPRESS_CHANGED="compressChanged",a.EVENT_ADD_COLUMN="addColumn",a.EVENT_REMOVE_COLUMN="removeColumn",a.EVENT_DIRTY="dirty",a.EVENT_DIRTY_HEADER="dirtyHeader",a.EVENT_DIRTY_VALUES="dirtyValues",a.EVENT_RENDERER_TYPE_CHANGED="rendererTypeChanged",a.EVENT_SORTMETHOD_CHANGED="sortMethodChanged"},function(t,e,n){"use strict";var r=n(2),i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.accessor=n.accessor||function(){return null},r.loaded=n.lazyLoaded!==!0,r}return i(e,t),e.prototype.getLabel=function(t,e){return this.isLoaded()?""+this.getValue(t,e):""},e.prototype.getRaw=function(t,e){return this.isLoaded()?this.accessor(t,e,this.id,this.desc,this.findMyRanker()):null},e.prototype.getValue=function(t,e){return this.getRaw(t,e)},e.prototype.isLoaded=function(){return this.loaded},e.prototype.setLoaded=function(t){this.loaded!==t&&this.fire([r.a.EVENT_DIRTY_HEADER,r.a.EVENT_DIRTY_VALUES,r.a.EVENT_DIRTY],this.loaded,this.loaded=t)},e.prototype.getRendererType=function(){return this.isLoaded()?t.prototype.getRendererType.call(this):e.RENDERER_LOADING},e}(r.a);e.a=o,o.RENDERER_LOADING="loading"},function(t,e,n){"use strict";var r=n(1),i=n(0),o=(n.n(i),function(){function t(t,e){this.attachment=t,this.title=e}return t.prototype.sortByName=function(t){return function(e,n){var r=e[t],i=n[t];return r.toLowerCase()<i.toLowerCase()?-1:r.toLowerCase()>i.toLowerCase()?1:0}},t.prototype.makePopup=function(t){function e(){a.style({left:this.parentElement.offsetLeft+i.event.dx+"px",top:this.parentElement.offsetTop+i.event.dy+"px"})}var o=n.i(r.m)(this.attachment.node()),a=n.i(i.select)("body").append("div").attr({class:"lu-popup2"}).style({left:o.left+"px",top:o.top+"px"}).html(this.dialogForm(t));a.select("span.lu-popup-title").call(i.behavior.drag().on("drag",e)),a.on("keydown",function(){27===i.event.which&&a.remove()});var s=a.select("input[autofocus]").node();return s&&s.focus(),a},t.prototype.makeSortPopup=function(t){var e=n.i(r.m)(this.attachment.node());return n.i(i.select)("body").append("div").attr({class:"lu-popup2"}).style({left:e.left+"px",top:e.top+"px"}).html(this.sortDialogForm(t))},t.prototype.dialogForm=function(t,e){return void 0===e&&(e=!0),'<span style="font-weight: bold" class="lu-popup-title">'+this.title+'</span>\n            <form onsubmit="return false">\n                '+t+"\n                "+(e?'<button type = "submit" class="ok fa fa-check" title="ok"></button><button type = "reset" class="cancel fa fa-times" title="cancel"></button><button type = "button" class="reset fa fa-undo" title="reset"></button></form>':"")+"\n            </form>"},t.prototype.sortDialogForm=function(t){return this.dialogForm(t,!1)},t.prototype.hidePopupOnClickOutside=function(t,e){n.i(i.select)("body").on("click",function(){var r=i.event.target;e.filter(function(){return this===r}).empty()&&(t.remove(),n.i(i.select)(this).on("click",null))})},t}());e.a=o},function(t,e,n){"use strict";function r(t){return t instanceof p.a&&"function"==typeof t.getNumber||!(t instanceof p.a)&&null!=t.type.match(/(number|stack|ordinal)/)}function i(t){return void 0===t||null==t||isNaN(t)||""===t||"NA"===t||"string"==typeof t&&"na"===t.toLowerCase()}function o(t,e){return isNaN(t)?isNaN(e)?0:1:isNaN(e)?-1:t-e}function a(t){switch(void 0===t&&(t="linear"),t){case"log":return u.scale.log().clamp(!0);case"sqrt":return u.scale.sqrt().clamp(!0);case"pow1.1":return u.scale.pow().exponent(1.1).clamp(!0);case"pow2":return u.scale.pow().exponent(2).clamp(!0);case"pow3":return u.scale.pow().exponent(3).clamp(!0);default:return u.scale.linear().clamp(!0)}}function s(t,e){return t.length===e.length&&t.every(function(t,n){return t===e[n]})}function c(t,e){return"log"===e&&0===t[0]&&(t[0]=1e-7),t}function l(t){if("script"===t.type){var e=new g;return e.restore(t),e}var n=new f;return n.restore(t),n}var u=n(0),p=(n.n(u),n(2)),h=n(3);e.a=r,e.c=o,n.d(e,"d",function(){return f}),n.d(e,"e",function(){return g}),e.f=l;var d=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},f=function(){function t(t,e,n){void 0===t&&(t=[0,1]),void 0===e&&(e="linear"),void 0===n&&(n=[0,1]),this.type=e,this.s=a(e).domain(c(t,this.type)).range(n)}return Object.defineProperty(t.prototype,"domain",{get:function(){return this.s.domain()},set:function(t){this.s.domain(c(t,this.type))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this.s.range()},set:function(t){this.s.range(t)},enumerable:!0,configurable:!0}),t.prototype.apply=function(t){return this.s(t)},Object.defineProperty(t.prototype,"scaleType",{get:function(){return this.type},enumerable:!0,configurable:!0}),t.prototype.dump=function(){return{type:this.type,domain:this.domain,range:this.range}},t.prototype.eq=function(e){if(!(e instanceof t))return!1;var n=e;return n.type===this.type&&s(this.domain,n.domain)&&s(this.range,n.range)},t.prototype.restore=function(t){this.type=t.type,this.s=a(t.type).domain(t.domain).range(t.range)},t.prototype.clone=function(){return new t(this.domain,this.type,this.range)},t}(),g=function(){function t(t,e){void 0===t&&(t=[0,1]),void 0===e&&(e="return this.linear(value,this.value_min,this.value_max);"),this.domain=t,this._code=e,this.f=new Function("value",e)}return Object.defineProperty(t.prototype,"code",{get:function(){return this._code},set:function(t){this._code!==t&&(this._code=t,this.f=new Function("value",t))},enumerable:!0,configurable:!0}),t.prototype.apply=function(t){var e=this.domain[0],n=this.domain[this.domain.length-1],r=this.f.call({value_min:e,value_max:n,value_range:n-e,value_domain:this.domain.slice(),linear:function(t,e,n){return(t-e)/(n-e)}},t);return"number"==typeof r?Math.max(Math.min(r,1),0):NaN},t.prototype.dump=function(){return{type:"script",code:this.code}},t.prototype.eq=function(e){return e instanceof t&&e.code===this.code},t.prototype.restore=function(t){this.code=t.code},t.prototype.clone=function(){return new t(this.domain,this.code)},t}(),y=function(t){function e(r,i){var o=t.call(this,r,i)||this;o.missingValue=0,o.currentFilter=e.noFilter(),o.numberFormat=n.i(u.format)(".3n"),i.map?o.mapping=l(i.map):i.domain&&(o.mapping=new f(i.domain,"linear",i.range||[0,1])),o.original=o.mapping.clone(),i.numberFormat&&(o.numberFormat=n.i(u.format)(i.numberFormat));var a=[{type:"number",label:"Bar"},{type:"circle",label:"Circle"}];return o.setRendererList(a),o}return d(e,t),e.prototype.dump=function(e){var n=t.prototype.dump.call(this,e);return n.map=this.mapping.dump(),n.filter=this.currentFilter,n.missingValue=this.missingValue,n},e.prototype.restore=function(e,r){t.prototype.restore.call(this,e,r),e.map?this.mapping=l(e.map):e.domain&&(this.mapping=new f(e.domain,"linear",e.range||[0,1])),e.currentFilter&&(this.currentFilter=e.currentFilter),e.missingValue&&(this.missingValue=e.missingValue),e.numberFormat&&(this.numberFormat=n.i(u.format)(e.numberFormat))},e.prototype.createEventList=function(){return t.prototype.createEventList.call(this).concat([e.EVENT_MAPPING_CHANGED])},e.prototype.getLabel=function(e,n){if(this.desc.numberFormat){var r=this.getRawValue(e,n);return isNaN(r)?"NaN":this.numberFormat(r)}var i=t.prototype.getValue.call(this,e,n);return"number"==typeof i?this.numberFormat(+i):String(i)},e.prototype.getRawValue=function(e,n){var r=t.prototype.getValue.call(this,e,n);return i(r)?this.missingValue:+r},e.prototype.getValue=function(t,e){var n=this.getRawValue(t,e);return isNaN(n)?n:this.mapping.apply(n)},e.prototype.getNumber=function(t,e){return this.getValue(t,e)},e.prototype.compare=function(t,e,n,r){return o(this.getValue(t,n),this.getValue(e,r))},e.prototype.getOriginalMapping=function(){return this.original.clone()},e.prototype.getMapping=function(){return this.mapping.clone()},e.prototype.setMapping=function(t){this.mapping.eq(t)||this.fire([e.EVENT_MAPPING_CHANGED,p.a.EVENT_DIRTY_VALUES,p.a.EVENT_DIRTY],this.mapping.clone(),this.mapping=t)},e.prototype.isFiltered=function(){return this.currentFilter.filterMissing||isFinite(this.currentFilter.min)||isFinite(this.currentFilter.max)},Object.defineProperty(e.prototype,"filterMin",{get:function(){return this.currentFilter.min},set:function(t){var e=this.getFilter();this.currentFilter.min=isNaN(t)?-(1/0):t,this.fire([p.a.EVENT_FILTER_CHANGED,p.a.EVENT_DIRTY_VALUES,p.a.EVENT_DIRTY],e,this.getFilter())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterMax",{get:function(){return this.currentFilter.max},set:function(t){var e=this.getFilter();this.currentFilter.max=isNaN(t)?1/0:t,this.fire([p.a.EVENT_FILTER_CHANGED,p.a.EVENT_DIRTY_VALUES,p.a.EVENT_DIRTY],e,this.getFilter())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterMissing",{get:function(){return this.currentFilter.filterMissing},set:function(t){var e=this.getFilter();this.currentFilter.filterMissing=t,this.fire([p.a.EVENT_FILTER_CHANGED,p.a.EVENT_DIRTY_VALUES,p.a.EVENT_DIRTY],e,this.getFilter())},enumerable:!0,configurable:!0}),e.prototype.getFilter=function(){return{min:this.currentFilter.min,max:this.currentFilter.max,filterMissing:this.currentFilter.filterMissing}},e.prototype.setFilter=function(t){if(void 0===t&&(t={min:-(1/0),max:+(1/0),filterMissing:!1}),this.currentFilter.min!==t.min||this.currentFilter.max!==t.max||this.currentFilter.filterMissing!==t.filterMissing){var e=this.getFilter();this.currentFilter.min=isNaN(t.min)?-(1/0):t.min,this.currentFilter.max=isNaN(t.max)?1/0:t.max,this.currentFilter.filterMissing=t.filterMissing,this.fire([p.a.EVENT_FILTER_CHANGED,p.a.EVENT_DIRTY_VALUES,p.a.EVENT_DIRTY],e,this.getFilter())}},e.prototype.filter=function(e,n){if(!this.isFiltered())return!0;var r=t.prototype.getValue.call(this,e,n);if(i(r))return!this.filterMissing;var o=+r;return!(isFinite(this.currentFilter.min)&&o<this.currentFilter.min||isFinite(this.currentFilter.max)&&o>this.currentFilter.max)},e.prototype.getRendererType=function(){return this.getCompressed()?e.COMPRESSED_RENDERER:t.prototype.getRendererType.call(this)},e}(h.a);e.b=y,y.EVENT_MAPPING_CHANGED="mappingChanged",y.COMPRESSED_RENDERER="heatmap",y.noFilter=function(){return{min:-(1/0),max:1/0,filterMissing:!1}}},function(t,e,n){"use strict";var r=n(2),i=n(3),o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.currentFilter=null,r._alignment="left",r.setWidthImpl(200),r._alignment=n.alignment||"left",r}return o(e,t),Object.defineProperty(e.prototype,"alignment",{get:function(){return this._alignment},enumerable:!0,configurable:!0}),e.prototype.getValue=function(e,n){var r=t.prototype.getValue.call(this,e,n);return void 0===r||null==r?"":String(r)},e.prototype.dump=function(e){var n=t.prototype.dump.call(this,e);return this.currentFilter instanceof RegExp?n.filter="REGEX:"+this.currentFilter.source:n.filter=this.currentFilter,n.alignment=this.alignment,n},e.prototype.restore=function(e,n){t.prototype.restore.call(this,e,n),e.filter&&"REGEX:"===e.filter.slice(0,6)?this.currentFilter=new RegExp(e.filter.slice(6)):this.currentFilter=e.filter||null,this._alignment=e.alignment||this._alignment},e.prototype.isFiltered=function(){return null!=this.currentFilter},e.prototype.filter=function(t,n){if(!this.isFiltered())return!0;var r=this.getLabel(t,n),i=this.currentFilter;return i===e.FILTER_MISSING?null!=r&&""!==r.trim():"string"==typeof i&&i.length>0?r&&r.toLowerCase().indexOf(i.toLowerCase())>=0:!(i instanceof RegExp)||r&&i.test(r)},e.prototype.getFilter=function(){return this.currentFilter},e.prototype.setFilter=function(t){""===t&&(t=null),this.currentFilter!==t&&this.fire([r.a.EVENT_FILTER_CHANGED,r.a.EVENT_DIRTY_VALUES,r.a.EVENT_DIRTY],this.currentFilter,this.currentFilter=t)},e.prototype.compare=function(t,e,n,r){var i,o;return""===(i=this.getValue(t,n))?""===this.getValue(e,r)?0:1:""===(o=this.getValue(e,r))?-1:i.localeCompare(o)},e}(i.a);e.a=a,a.FILTER_MISSING="__FILTER_MISSING"},function(t,e,n){"use strict";function r(t,e){return e[t.getRendererType()]||D}function i(t,e,n){var i=r(t,e);return(i.createSVG?i.createSVG.bind(i):D.createSVG.bind(i))(t,n)}function o(t,e,n){var i=r(t,e);return(i.createHTML?i.createHTML.bind(i):D.createHTML.bind(i))(t,n)}function a(t,e,n){var i=r(t,e);return(i.createCanvas?i.createCanvas.bind(i):D.createCanvas.bind(i))(t,n)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(56),c=n(28),l=n(68),u=n(64),p=n(61),h=n(55),d=n(54),f=n(67),g=n(58),y=n(63),v=n(66),m=n(70),E=n(65),_=n(59),b=n(57),T=n(62),N=n(69),x=n(60);n.d(e,"defaultCellRenderer",function(){return D}),n.d(e,"renderers",function(){return C}),e.createSVG=i,e.createHTML=o,e.createCanvas=a;var D=new c.a,V=new s.a(!1,function(t,e,n){return n.getColor(t,e)}),C={rank:new c.a("rank","right"),boolean:new c.a("boolean","center"),number:new s.a,ordinal:new s.a(!0,function(t,e,n){return n.getColor(t,e)}),string:new l.a,selection:new u.a,heatmap:new x.a,link:new p.a,annotate:new h.a,actions:new d.a,stack:new f.a,nested:new f.a(!1),categorical:new g.a,max:V,min:V,mean:V,script:V,multiValue:new y.a,threshold:new N.a,sparkline:new v.a,verticalbar:new m.a,set:new E.a,circle:new _.a,boxplot:new b.a,loading:new T.a}},function(t,e,n){"use strict";var r=n(12),i=n(16),o=n(15),a=n(1),s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=function(t){function e(e){void 0===e&&(e={});var i=t.call(this)||this;return i.rankings=[],i.selection=new Set,i.uid=0,i.createHelper=function(t){var e=i.fromDescRef(t.desc),n=null;if(e&&e.type){i.fixDesc(t.desc);n=new(0,i.columnTypes[e.type])(t.id,e),n.restore(t,i.createHelper)}return n},i.columnTypes=n.i(a.a)(n.i(r.models)(),e.columnTypes||{}),i.multiSelections=e.multiSelection!==!1,i}return s(e,t),e.prototype.createEventList=function(){return t.prototype.createEventList.call(this).concat([e.EVENT_ADD_COLUMN,e.EVENT_REMOVE_COLUMN,e.EVENT_ADD_RANKING,e.EVENT_REMOVE_RANKING,e.EVENT_DIRTY,e.EVENT_DIRTY_HEADER,e.EVENT_DIRTY_VALUES,e.EVENT_ORDER_CHANGED,e.EVENT_SELECTION_CHANGED,e.EVENT_ADD_DESC,e.EVENT_JUMP_TO_NEAREST])},e.prototype.pushRanking=function(t){var e=this.cloneRanking(t);return this.insertRanking(e),e},e.prototype.takeSnapshot=function(t){var e=this.cloneRanking();return e.push(this.clone(t)),this.insertRanking(e),e},e.prototype.insertRanking=function(t,r){void 0===r&&(r=this.rankings.length),this.rankings.splice(r,0,t),this.forward(t,i.a.EVENT_ADD_COLUMN+".provider",i.a.EVENT_REMOVE_COLUMN+".provider",i.a.EVENT_DIRTY+".provider",i.a.EVENT_DIRTY_HEADER+".provider",i.a.EVENT_ORDER_CHANGED+".provider",i.a.EVENT_DIRTY_VALUES+".provider");var o=this;t.on(i.a.EVENT_DIRTY_ORDER+".provider",n.i(a.d)(function(){o.triggerReorder(this.source)},100,null)),this.fire([e.EVENT_ADD_RANKING,e.EVENT_DIRTY_HEADER,e.EVENT_DIRTY_VALUES,e.EVENT_DIRTY],t,r),this.triggerReorder(t)},e.prototype.triggerReorder=function(t){this.sort(t).then(function(e){return t.setOrder(e)})},e.prototype.removeRanking=function(t){var n=this.rankings.indexOf(t);return!(n<0)&&(this.unforward(t,i.a.EVENT_ADD_COLUMN+".provider",i.a.EVENT_REMOVE_COLUMN+".provider",i.a.EVENT_DIRTY+".provider",i.a.EVENT_DIRTY_HEADER+".provider",i.a.EVENT_ORDER_CHANGED+".provider",i.a.EVENT_DIRTY_VALUES+".provider"),this.rankings.splice(n,1),t.on(i.a.EVENT_DIRTY_ORDER+".provider",null),this.cleanUpRanking(t),this.fire([e.EVENT_REMOVE_RANKING,e.EVENT_DIRTY_HEADER,e.EVENT_DIRTY_VALUES,e.EVENT_DIRTY],t,n),!0)},e.prototype.clearRankings=function(){var t=this;this.rankings.forEach(function(e){t.unforward(e,i.a.EVENT_ADD_COLUMN+".provider",i.a.EVENT_REMOVE_COLUMN+".provider",i.a.EVENT_DIRTY+".provider",i.a.EVENT_DIRTY_HEADER+".provider",i.a.EVENT_ORDER_CHANGED+".provider",i.a.EVENT_DIRTY_VALUES+".provider"),e.on(i.a.EVENT_DIRTY_ORDER+".provider",null),t.cleanUpRanking(e)}),this.rankings=[],this.fire([e.EVENT_REMOVE_RANKING,e.EVENT_DIRTY_HEADER,e.EVENT_DIRTY_VALUES,e.EVENT_DIRTY],null)},e.prototype.getRankings=function(){return this.rankings.slice()},e.prototype.getLastRanking=function(){return this.rankings[this.rankings.length-1]},e.prototype.cleanUpRanking=function(t){},e.prototype.push=function(t,e){var n=this.create(e);return n?(t.push(n),n):null},e.prototype.insert=function(t,e,n){var r=this.create(n);return r?(t.insert(r,e),r):null},e.prototype.nextId=function(){return"col"+this.uid++},e.prototype.fixDesc=function(t){var e=this;"rank"===t.type?t.accessor=this.rankAccessor.bind(this):"selection"===t.type&&(t.accessor=function(t,n){return e.isSelected(n)},t.setter=function(t,n,r){return r?e.select(n):e.deselect(n)})},e.prototype.create=function(t){this.fixDesc(t);var e=this.columnTypes[t.type];return e?new e(this.nextId(),t):null},e.prototype.clone=function(t){var e=this.dumpColumn(t);return this.restoreColumn(e)},e.prototype.restoreColumn=function(t){var e=this,n=function(t){var r=e.fromDescRef(t.desc),i=e.columnTypes[r.type];e.fixDesc(r);var o=new i("",r);return o.restore(t,n),o.assignNewId(e.nextId.bind(e)),o};return n(t)},e.prototype.find=function(t){for(var e="string"==typeof t?function(e){return e.id===t}:t,n=0,r=this.rankings;n<r.length;n++){var i=r[n],o=i.find(e);if(o)return o}return null},e.prototype.dump=function(){var t=this;return{uid:this.uid,selection:this.getSelection(),rankings:this.rankings.map(function(e){return e.dump(t.toDescRef)})}},e.prototype.dumpColumn=function(t){return t.dump(this.toDescRef)},e.prototype.toDescRef=function(t){return t},e.prototype.fromDescRef=function(t){return t},e.prototype.restoreRanking=function(t){var e=this.cloneRanking();e.restore(t,this.createHelper),e.children.some(function(t){return t instanceof o.a})||e.insert(this.create(n.i(r.createRankDesc)()),0);var i=this.nextId.bind(this);return e.children.forEach(function(t){return t.assignNewId(i)}),e},e.prototype.restore=function(t){var e=this;this.clearRankings(),this.uid=t.uid||0,t.selection&&t.selection.forEach(function(t){return e.selection.add(t)}),t.rankings&&t.rankings.forEach(function(t){var i=e.cloneRanking();i.restore(t,e.createHelper),i.children.some(function(t){return t instanceof o.a})||i.insert(e.create(n.i(r.createRankDesc)()),0),e.insertRanking(i)}),t.layout&&Object.keys(t.layout).forEach(function(n){e.deriveRanking(t.layout[n])});var i=this.nextId.bind(this);this.rankings.forEach(function(t){t.children.forEach(function(t){return t.assignNewId(i)})})},e.prototype.deriveDefault=function(){var t=this;if(!(this.rankings.length>0)){var e=this.pushRanking();this.getColumns().forEach(function(i){n.i(r.isSupportType)(i)||t.push(e,i)})}},e.prototype.deriveRanking=function(t){var e=this,i=this.cloneRanking();i.clear();var a=function(t){switch(t.type){case"rank":return e.create(n.i(r.createRankDesc)());case"selection":return e.create(n.i(r.createSelectionDesc)());case"actions":var i=e.create(n.i(r.createActionDesc)(t.label||"actions"));return i.restore(t,null),i;case"stacked":var o=e.create(n.i(r.createStackDesc)(t.label||"Combined"));return(t.children||[]).forEach(function(t){var e=a(t);e&&o.push(e)}),o;default:var s=e.findDesc(t.column);if(s){var c=e.create(s);return t.label=t.label||s.label||s.column,c.restore(t,null),c}return null}};return t.forEach(function(t){var e=a(t);e&&i.push(e)}),i.children.some(function(t){return t instanceof o.a})||i.insert(this.create(n.i(r.createRankDesc)()),0),this.insertRanking(i),i},e.prototype.isSelected=function(t){return this.selection.has(t)},e.prototype.select=function(t){this.selection.has(t)||(!this.multiSelections&&this.selection.size>0&&(this.selection=new Set),this.selection.add(t),this.fire(e.EVENT_SELECTION_CHANGED,this.getSelection()))},e.prototype.jumpToNearest=function(t){0!==t.length&&this.fire(e.EVENT_JUMP_TO_NEAREST,t)},e.prototype.selectAll=function(t){var n=this;t.every(function(t){return n.selection.has(t)})||(this.multiSelections||(this.selection=new Set,t=t.slice(0,1)),t.forEach(function(t){n.selection.add(t)}),this.fire(e.EVENT_SELECTION_CHANGED,this.getSelection()))},e.prototype.setSelection=function(t){var e=this;this.selection.size===t.length&&t.every(function(t){return e.selection.has(t)})||(this.selection=new Set,this.selectAll(t))},e.prototype.toggleSelection=function(t,e){return void 0===e&&(e=!1),this.isSelected(t)?(e?this.deselect(t):this.clearSelection(),!1):(e?this.select(t):this.setSelection([t]),!0)},e.prototype.deselect=function(t){this.selection.has(t)&&(this.selection.delete(t),this.fire(e.EVENT_SELECTION_CHANGED,this.getSelection()))},e.prototype.selectedRows=function(){return 0===this.selection.size?Promise.resolve([]):this.view(this.getSelection())},e.prototype.getSelection=function(){var t=[];return this.selection.forEach(function(e){return t.push(e)}),t.sort(),t},e.prototype.clearSelection=function(){0!==this.selection.size&&(this.selection=new Set,this.fire(e.EVENT_SELECTION_CHANGED,[],!1))},e.prototype.exportTable=function(t,e){function i(t,i){return!e.quote||i&&n.i(r.isNumberColumn)(i)?t:e.quoteChar+t+e.quoteChar}void 0===e&&(e={}),e=n.i(a.a)({separator:"\t",newline:"\n",header:!0,quote:!1,quoteChar:'"',filter:function(t){return!n.i(r.isSupportType)(t)}},e);var o=t.flatColumns.filter(function(t){return e.filter(t.desc)}),s=t.getOrder();return this.view(s).then(function(t){var n=[];return e.header&&n.push(o.map(function(t){return i(t.label)}).join(e.separator)),t.forEach(function(t,r){n.push(o.map(function(e){return i(e.getLabel(t,s[r]),e)}).join(e.separator))}),n.join(e.newline)})},e}(a.c);c.EVENT_SELECTION_CHANGED="selectionChanged",c.EVENT_ADD_COLUMN=i.a.EVENT_ADD_COLUMN,c.EVENT_REMOVE_COLUMN=i.a.EVENT_REMOVE_COLUMN,c.EVENT_ADD_RANKING="addRanking",c.EVENT_REMOVE_RANKING="removeRanking",c.EVENT_DIRTY=i.a.EVENT_DIRTY,c.EVENT_DIRTY_HEADER=i.a.EVENT_DIRTY_HEADER,c.EVENT_DIRTY_VALUES=i.a.EVENT_DIRTY_VALUES,c.EVENT_ORDER_CHANGED=i.a.EVENT_ORDER_CHANGED,c.EVENT_ADD_DESC="addDesc",c.EVENT_JUMP_TO_NEAREST="jumpToNearest",e.a=c},function(t,e,n){"use strict";var r=n(4),i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(e,n,r){var i=t.call(this,n,r)||this;return i.column=e,i}return i(e,t),e.prototype.markFiltered=function(t){void 0===t&&(t=!1),this.attachment.classed("filtered",t)},e}(r.a);e.a=o},function(t,e,n){"use strict";function r(t){return"function"==typeof t.getCollapsed}var i=n(2);e.a=r;var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r._children=[],r}return o(e,t),e.prototype.assignNewId=function(e){t.prototype.assignNewId.call(this,e),this._children.forEach(function(t){return t.assignNewId(e)})},Object.defineProperty(e.prototype,"children",{get:function(){return this._children.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._children.length},enumerable:!0,configurable:!0}),e.prototype.flatten=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var o=0;return(0===n||n<=i.a.FLAT_ALL_COLUMNS)&&(o=this.getCompressed()?i.a.COMPRESSED_WIDTH:this.getWidth(),t.push({col:this,offset:e,width:o}),0===n)?o:(this._children.forEach(function(o){(!o.isHidden()||n<=i.a.FLAT_ALL_COLUMNS)&&o.flatten(t,e,n-1,r)}),o)},e.prototype.dump=function(e){var n=t.prototype.dump.call(this,e);return n.children=this._children.map(function(t){return t.dump(e)}),n},e.prototype.restore=function(e,n){var r=this;e.children.map(function(t){var e=n(t);e&&r.push(e)}),t.prototype.restore.call(this,e,n)},e.prototype.insert=function(t,e){return this._children.splice(e,0,t),this.insertImpl(t,e)},e.prototype.insertImpl=function(t,e){return t.parent=this,this.forward(t,i.a.EVENT_DIRTY_HEADER+".combine",i.a.EVENT_DIRTY_VALUES+".combine",i.a.EVENT_DIRTY+".combine",i.a.EVENT_FILTER_CHANGED+".combine"),this.fire([i.a.EVENT_ADD_COLUMN,i.a.EVENT_DIRTY_HEADER,i.a.EVENT_DIRTY_VALUES,i.a.EVENT_DIRTY],t,e),t},e.prototype.push=function(t){return this.insert(t,this._children.length)},e.prototype.at=function(t){return this._children[t]},e.prototype.indexOf=function(t){return this._children.indexOf(t)},e.prototype.insertAfter=function(t,e){var n=this.indexOf(e);return n<0?null:this.insert(t,n+1)},e.prototype.remove=function(t){var e=this._children.indexOf(t);return!(e<0)&&(this._children.splice(e,1),this.removeImpl(t))},e.prototype.removeImpl=function(t){return t.parent=null,this.unforward(t,i.a.EVENT_DIRTY_HEADER+".combine",i.a.EVENT_DIRTY_VALUES+".combine",i.a.EVENT_DIRTY+".combine",i.a.EVENT_FILTER_CHANGED+".combine"),this.fire([i.a.EVENT_REMOVE_COLUMN,i.a.EVENT_DIRTY_HEADER,i.a.EVENT_DIRTY_VALUES,i.a.EVENT_DIRTY],t),!0},e.prototype.getColor=function(t,e){return this.color},e.prototype.isFiltered=function(){return this._children.some(function(t){return t.isFiltered()})},e.prototype.filter=function(t,e){return this._children.every(function(n){return n.filter(t,e)})},e.prototype.toSortingDesc=function(t){return this._children.map(function(e){return e.toSortingDesc(t)})},e}(i.a);e.b=a},function(t,e,n){"use strict";var r=n(0),i=(n.n(r),n(10)),o=n(5),a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=function(t){function e(e,i){var o=t.call(this,e,i)||this;return o.missingValue=0,o.numberFormat=n.i(r.format)(".3n"),i.numberFormat&&(o.numberFormat=n.i(r.format)(i.numberFormat)),o}return a(e,t),e.prototype.dump=function(e){var n=t.prototype.dump.call(this,e);return n.missingValue=this.missingValue,n},e.prototype.restore=function(e,i){e.missingValue&&(this.missingValue=e.missingValue),e.numberFormat&&(this.numberFormat=n.i(r.format)(e.numberFormat)),t.prototype.restore.call(this,e,i)},e.prototype.insert=function(e,r){return n.i(o.a)(e)?t.prototype.insert.call(this,e,r):null},e.prototype.getLabel=function(t,e){if(!this.isLoaded())return"";var n=this.getValue(t,e);return""+("number"==typeof n?this.numberFormat(n):n)},e.prototype.getValue=function(t,e){if(!this.isLoaded())return null;var n=this.compute(t,e);return void 0===n||null==n||isNaN(n)?this.missingValue:n},e.prototype.isLoaded=function(){return this._children.every(function(t){return t.isLoaded()})},e.prototype.compute=function(t,e){return NaN},e.prototype.getNumber=function(t,e){return this.getValue(t,e)},e.prototype.compare=function(t,e,r,i){return n.i(o.c)(this.getValue(t,r),this.getValue(e,i))},e.prototype.getRendererType=function(){return o.b.prototype.getRendererType.call(this)},e}(i.b);e.a=s},function(t,e,n){"use strict";function r(t,e){void 0===e&&(e={});var r=function(t){function e(e,n){var r=t.call(this,e,n)||this;return"function"==typeof r.init&&r.init.apply(r,[].slice.apply(arguments)),r}return S(e,t),e.prototype.init=function(){},e}(s.a);return r.prototype.toString=function(){return t},r.prototype=n.i(a.a)(r.prototype,e),r}function i(t){return void 0===t&&(t="actions"),{type:"actions",label:t}}function o(){return{number:c.b,string:l.a,link:N.a,stack:u.a,rank:v.a,boolean:h.a,categorical:d.a,ordinal:_.a,actions:T.a,annotate:p.a,selection:m.a,max:g.a,min:f.a,mean:y.a,script:E.a,nested:b.a,multiValue:D.a,set:x.a,boxplot:V.a}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),s=n(3),c=n(5),l=n(6),u=n(18),p=n(48),h=n(49),d=n(14),f=n(26),g=n(24),y=n(25),v=n(15),m=n(20),E=n(17),_=n(50),b=n(27),T=n(51),N=n(23),x=n(53),D=n(19),V=n(13),C=n(2);n.d(e,"Column",function(){return C.a});var R=n(10);n.d(e,"CompositeColumn",function(){return R.b}),n.d(e,"createMappingFunction",function(){return c.f}),n.d(e,"ScaleMappingFunction",function(){return c.d}),n.d(e,"ScriptMappingFunction",function(){return c.e}),n.d(e,"isNumberColumn",function(){return c.a}),n.d(e,"isCategoricalColumn",function(){return d.b});var w=n(16);n.d(e,"Ranking",function(){return w.a}),n.d(e,"isSupportType",function(){return w.b}),n.d(e,"createMinDesc",function(){return f.b}),n.d(e,"createMaxDesc",function(){return g.b}),n.d(e,"createMeanDesc",function(){return y.b}),n.d(e,"createRankDesc",function(){return v.b}),n.d(e,"createSelectionDesc",function(){return m.b}),n.d(e,"createScriptDesc",function(){return E.b}),n.d(e,"createNestedDesc",function(){return b.b}),n.d(e,"createStackDesc",function(){return u.b}),e.defineColumn=r,e.createActionDesc=i,e.models=o;var S=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}},function(t,e,n){"use strict";function r(t,e,n,r,i){var o=t.getBoxPlotData(e,r),a=t.getBoxPlotData(n,i);if(null===o)return null===a?0:1;if(null===a)return-1;var s=t.getSortMethod();return o[s]-a[s]}var i=n(3),o=n(2);n.d(e,"b",function(){return s}),e.c=r;var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s={min:"min",max:"max",median:"median",q1:"q1",q3:"q3"},c=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.domain=n.domain||[0,100],r.sort=n.sort||s.min,r}return a(e,t),e.prototype.compare=function(t,e,n,i){return r(this,t,e,n,i)},e.prototype.getDomain=function(){return this.domain},e.prototype.getBoxPlotData=function(t,e){return this.getValue(t,e)},e.prototype.getSortMethod=function(){return this.sort},e.prototype.setSortMethod=function(t){this.sort!==t&&(this.fire([o.a.EVENT_SORTMETHOD_CHANGED],this.sort,this.sort=t),this.findMyRanker().getSortCriteria().col!==this&&this.sortByMe())},e.prototype.dump=function(e){var n=t.prototype.dump.call(this,e);return n.sortMethod=this.getSortMethod(),n},e.prototype.restore=function(e,n){t.prototype.restore.call(this,e,n),e.sortMethod&&(this.sort=e.sortMethod)},e}(i.a);e.a=c},function(t,e,n){"use strict";function r(t){return t instanceof s.a&&"function"==typeof t.getCategories||!(t instanceof s.a)&&null!=t.type.match(/(categorical|ordinal)/)}function i(t,e){return t===e||null!==t&&null!==e&&(t.filterMissing===e.filterMissing&&typeof t.filter==typeof e.filter&&(Array.isArray(t.filter)?o(t.filter,e.filter):String(t.filter)===String(e.filter)))}function o(t,e){var n=null!=t?t.length:0;return n===(null!=e?e.length:0)&&(0===n||t.every(function(t,n){return t===e[n]}))}var a=n(0),s=(n.n(a),n(2)),c=n(3),l=n(6);e.b=r;var u=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},p=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.colors=a.scale.category10(),r.catLabels=new Map,r.currentFilter=null,r.separator=";",r.separator=n.separator||r.separator,r.initCategories(n),r}return u(e,t),e.prototype.initCategories=function(t){if(t.categories){var e=[],n=this.colors.range().slice(),r=new Map;t.categories.forEach(function(t,i){"string"==typeof t?e.push(t):(e.push(t.name||t.value),t.label&&r.set(t.name,t.label),t.color&&(n[i]=t.color))}),this.catLabels=r,this.colors.domain(e).range(n)}},Object.defineProperty(e.prototype,"categories",{get:function(){return this.colors.domain()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categoryColors",{get:function(){return this.colors.range()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categoryLabels",{get:function(){var t=this;return null===this.catLabels||0===this.catLabels.size?this.categories:this.categories.map(function(e){return t.catLabels.has(e)?t.catLabels.get(e):e})},enumerable:!0,configurable:!0}),e.prototype.colorOf=function(t){return this.colors(t)},e.prototype.getLabel=function(t,e){return null===this.catLabels||0===this.catLabels.size?""+l.a.prototype.getValue.call(this,t,e):this.getLabels(t,e).join(this.separator)},e.prototype.getFirstLabel=function(t,e){var n=this.getLabels(t,e);return n.length>0?n[0]:null},e.prototype.getLabels=function(t,e){var n=this,r=l.a.prototype.getValue.call(this,t,e),i=r?r.split(this.separator):[];return function(t){return null===n.catLabels||0===n.catLabels.size?t:t.map(function(t){return n.catLabels.has(t)?n.catLabels.get(t):t})}(i)},e.prototype.getValue=function(t,e){var n=this.getValues(t,e);return n.length>0?n[0]:null},e.prototype.getValues=function(t,e){var n=l.a.prototype.getValue.call(this,t,e);return n?n.split(this.separator):[]},e.prototype.getCategories=function(t,e){return this.getValues(t,e)},e.prototype.getColor=function(t,e){var n=this.getValue(t,e);return null===n||""===n?null:this.colors(n)},e.prototype.getColors=function(t,e){return this.getCategories(t,e).map(this.colors)},e.prototype.dump=function(e){var n=t.prototype.dump.call(this,e);return n.filter=this.currentFilter,n.colors={domain:this.colors.domain(),range:this.colors.range(),separator:this.separator},null!==this.catLabels&&0!==this.catLabels.size&&(n.labels=this.catLabels.entries()),n},e.prototype.restore=function(e,n){var r=this;if(t.prototype.restore.call(this,e,n),"filter"in e){var i=e.filter;"string"==typeof i||Array.isArray(i)?this.currentFilter={filter:i,filterMissing:!1}:this.currentFilter=i}else this.currentFilter=null;e.colors&&this.colors.domain(e.colors.domain).range(e.colors.range),e.labels&&(this.catLabels=new Map,e.labels.forEach(function(t){return r.catLabels.set(t.key,t.value)})),this.separator=e.separator||this.separator},e.prototype.isFiltered=function(){return null!=this.currentFilter},e.prototype.filter=function(t,e){if(!this.isFiltered())return!0;var n=this.getCategories(t,e),r=this.currentFilter.filter;return(!this.currentFilter.filterMissing||0!==n.length)&&n.every(function(t){return Array.isArray(r)&&r.length>0?r.indexOf(t)>=0:"string"==typeof r&&r.length>0?t&&t.toLowerCase().indexOf(r.toLowerCase())>=0:!(r instanceof RegExp)||null!=t&&t.match(r).length>0})},e.prototype.getFilter=function(){return this.currentFilter},e.prototype.setFilter=function(t){i(this.currentFilter,t)||this.fire([s.a.EVENT_FILTER_CHANGED,s.a.EVENT_DIRTY_VALUES,s.a.EVENT_DIRTY],this.currentFilter,this.currentFilter=t)},e.prototype.compare=function(t,e,r,i){for(var o=this.getValues(t,r),s=this.getValues(e,i),c=0;c<Math.min(o.length,s.length);++c){var l=n.i(a.ascending)(o[c],s[c]);if(0!==l)return l}return o.length-s.length},e}(c.a);e.a=p},function(t,e,n){"use strict";function r(t){return void 0===t&&(t="Rank"),{type:"rank",label:t}}var i=n(3);e.b=r;var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.setWidthImpl(50),r}return o(e,t),e}(i.a);e.a=a},function(t,e,n){"use strict";function r(t){return["rank","selection","actions"].indexOf(t.type)>=0}var i=n(2),o=n(6),a=n(1);e.b=r;var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=function(t){function e(r){var o=t.call(this)||this;return o.id=r,o.sortColumn=null,o.ascending=!1,o.columns=[],o.comparator=function(t,e,n,r){if(null===o.sortColumn)return 0;var i=o.sortColumn.compare(t,e,n,r);return o.ascending?i:-i},o.dirtyOrder=function(){o.fire([e.EVENT_DIRTY_ORDER,e.EVENT_DIRTY_VALUES,e.EVENT_DIRTY],o.getSortCriteria())},o.order=[],o.id=n.i(i.b)(r),o}return s(e,t),e.prototype.createEventList=function(){return t.prototype.createEventList.call(this).concat([e.EVENT_WIDTH_CHANGED,e.EVENT_FILTER_CHANGED,e.EVENT_LABEL_CHANGED,e.EVENT_COMPRESS_CHANGED,e.EVENT_ADD_COLUMN,e.EVENT_REMOVE_COLUMN,e.EVENT_DIRTY,e.EVENT_DIRTY_HEADER,e.EVENT_DIRTY_VALUES,e.EVENT_SORT_CRITERIA_CHANGED,e.EVENT_DIRTY_ORDER,e.EVENT_ORDER_CHANGED])},e.prototype.assignNewId=function(t){this.id=n.i(i.b)(t()),this.columns.forEach(function(e){return e.assignNewId(t)})},e.prototype.setOrder=function(t){this.fire([e.EVENT_ORDER_CHANGED,e.EVENT_DIRTY_VALUES,e.EVENT_DIRTY],this.order,this.order=t)},e.prototype.getOrder=function(){return this.order},e.prototype.dump=function(t){var e={};return e.columns=this.columns.map(function(e){return e.dump(t)}),e.sortColumn={asc:this.ascending},this.sortColumn&&(e.sortColumn.sortBy=this.sortColumn.id),e},e.prototype.restore=function(t,e){var n=this;if(this.clear(),t.columns.map(function(t){var r=e(t);r&&n.push(r)}),t.sortColumn&&(this.ascending=t.sortColumn.asc,t.sortColumn.sortBy)){var r=this.columns.filter(function(e){return e.id===t.sortColumn.sortBy});this.sortBy(0===r.length?null:r[0],t.sortColumn.asc)}},e.prototype.flatten=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var o=e;return(n>0||n<=i.a.FLAT_ALL_COLUMNS)&&this.columns.forEach(function(e){(!e.isHidden()||n<=i.a.FLAT_ALL_COLUMNS)&&(o+=e.flatten(t,o,n-1,r)+r)}),o-e},e.prototype.getSortCriteria=function(){return{col:this.sortColumn,asc:this.ascending}},e.prototype.toggleSorting=function(t){return this.sortColumn===t?this.sortBy(t,!this.ascending):this.sortBy(t)},e.prototype.setSortCriteria=function(t){return this.sortBy(t.col,t.asc)},e.prototype.sortBy=function(t,n){if(void 0===n&&(n=!1),null!==t&&t.findMyRanker()!==this)return!1;if(this.sortColumn===t&&this.ascending===n)return!0;this.sortColumn&&(this.sortColumn.on(i.a.EVENT_DIRTY_VALUES+".order",null),this.sortColumn.on(i.a.EVENT_SORTMETHOD_CHANGED+".order",null));var r=this.getSortCriteria();return this.sortColumn=t,this.sortColumn&&(this.sortColumn.on(i.a.EVENT_DIRTY_VALUES+".order",this.dirtyOrder),this.sortColumn.on(i.a.EVENT_SORTMETHOD_CHANGED+".order",this.dirtyOrder)),this.ascending=n,this.fire([e.EVENT_SORT_CRITERIA_CHANGED,e.EVENT_DIRTY_ORDER,e.EVENT_DIRTY_HEADER,e.EVENT_DIRTY_VALUES,e.EVENT_DIRTY],r,this.getSortCriteria()),!0},Object.defineProperty(e.prototype,"children",{get:function(){return this.columns.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this.columns.length},enumerable:!0,configurable:!0}),e.prototype.insert=function(t,n){return void 0===n&&(n=this.columns.length),this.columns.splice(n,0,t),t.parent=this,this.forward(t,i.a.EVENT_DIRTY_VALUES+".ranking",i.a.EVENT_DIRTY_HEADER+".ranking",i.a.EVENT_DIRTY+".ranking",i.a.EVENT_FILTER_CHANGED+".ranking"),t.on(e.EVENT_FILTER_CHANGED+".order",this.dirtyOrder),this.fire([e.EVENT_ADD_COLUMN,e.EVENT_DIRTY_HEADER,e.EVENT_DIRTY_VALUES,e.EVENT_DIRTY],t,n),null!==this.sortColumn||r(t.desc)||this.sortBy(t,t instanceof o.a),t},Object.defineProperty(e.prototype,"fqpath",{get:function(){return""},enumerable:!0,configurable:!0}),e.prototype.findByPath=function(t){for(var e=this,n=t.split("@").map(Number).slice(1);n.length>0;){var r=n.shift();e=e.at(r)}return e},e.prototype.indexOf=function(t){return this.columns.indexOf(t)},e.prototype.at=function(t){return this.columns[t]},e.prototype.insertAfter=function(t,e){var n=this.columns.indexOf(e);return n<0?null:this.insert(t,n+1)},e.prototype.push=function(t){return this.insert(t)},e.prototype.remove=function(t){var n=this.columns.indexOf(t);if(n<0)return!1;if(this.unforward(t,i.a.EVENT_DIRTY_VALUES+".ranking",i.a.EVENT_DIRTY_HEADER+".ranking",i.a.EVENT_DIRTY+".ranking",i.a.EVENT_FILTER_CHANGED+".ranking"),this.sortColumn===t){var o=this.columns.filter(function(e){return e!==t&&!r(e.desc)})[0];this.sortBy(o?o:null)}return t.parent=null,this.columns.splice(n,1),this.fire([e.EVENT_REMOVE_COLUMN,e.EVENT_DIRTY_HEADER,e.EVENT_DIRTY_VALUES,e.EVENT_DIRTY],t,n),!0},e.prototype.clear=function(){var t=this;0!==this.columns.length&&(this.sortColumn=null,this.columns.forEach(function(e){t.unforward(e,i.a.EVENT_DIRTY_VALUES+".ranking",i.a.EVENT_DIRTY_HEADER+".ranking",i.a.EVENT_DIRTY+".ranking",i.a.EVENT_FILTER_CHANGED+".ranking"),e.parent=null}),this.columns.length=0,this.fire([e.EVENT_REMOVE_COLUMN,e.EVENT_DIRTY_HEADER,e.EVENT_DIRTY_VALUES,e.EVENT_DIRTY],null))},Object.defineProperty(e.prototype,"flatColumns",{get:function(){var t=[];return this.flatten(t,0,i.a.FLAT_ALL_COLUMNS),t.map(function(t){return t.col})},enumerable:!0,configurable:!0}),e.prototype.find=function(t){for(var e="string"==typeof t?function(e){return e.id===t}:t,n=this.flatColumns,r=0,i=n;r<i.length;r++){var o=i[r];if(e(o))return o}return null},e.prototype.toSortingDesc=function(t){var e=function(e){return null===e?null:e.toSortingDesc(t)},n=e(this.sortColumn);return null===n?null:{id:n,asc:this.ascending}},e.prototype.isFiltered=function(){return this.columns.some(function(t){return t.isFiltered()})},e.prototype.filter=function(t,e){return this.columns.every(function(n){return n.filter(t,e)})},e.prototype.findMyRanker=function(){return this},Object.defineProperty(e.prototype,"fqid",{get:function(){return this.id},enumerable:!0,configurable:!0}),e}(a.c);e.a=c,c.EVENT_WIDTH_CHANGED=i.a.EVENT_WIDTH_CHANGED,c.EVENT_FILTER_CHANGED=i.a.EVENT_FILTER_CHANGED,c.EVENT_LABEL_CHANGED=i.a.EVENT_LABEL_CHANGED,c.EVENT_COMPRESS_CHANGED=i.a.EVENT_COMPRESS_CHANGED,c.EVENT_ADD_COLUMN=i.a.EVENT_ADD_COLUMN,c.EVENT_REMOVE_COLUMN=i.a.EVENT_REMOVE_COLUMN,c.EVENT_DIRTY=i.a.EVENT_DIRTY,c.EVENT_DIRTY_HEADER=i.a.EVENT_DIRTY_HEADER,c.EVENT_DIRTY_VALUES=i.a.EVENT_DIRTY_VALUES,c.EVENT_SORT_CRITERIA_CHANGED="sortCriteriaChanged",c.EVENT_DIRTY_ORDER="dirtyOrder",c.EVENT_ORDER_CHANGED="orderChanged"},function(t,e,n){"use strict";function r(t){return void 0===t&&(t="script"),{type:"script",label:t,script:s.DEFAULT_SCRIPT}}var i=n(2),o=n(11);e.b=r;var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=function(t){function e(n,r){var i=t.call(this,n,r)||this;return i.script=e.DEFAULT_SCRIPT,i.f=null,i.script=r.script||i.script,i}return a(e,t),e.prototype.createEventList=function(){return t.prototype.createEventList.call(this).concat([e.EVENT_SCRIPT_CHANGED])},e.prototype.setScript=function(t){this.script!==t&&(this.f=null,this.fire([e.EVENT_SCRIPT_CHANGED,i.a.EVENT_DIRTY_VALUES,i.a.EVENT_DIRTY],this.script,this.script=t))},e.prototype.getScript=function(){return this.script},e.prototype.dump=function(e){var n=t.prototype.dump.call(this,e);return n.script=this.script,n},e.prototype.restore=function(e,n){this.script=e.script||this.script,t.prototype.restore.call(this,e,n)},e.prototype.compute=function(t,e){return null==this.f&&(this.f=new Function("children","values",this.script)),this.f.call(this,this._children,this._children.map(function(n){return n.getValue(t,e)}))},e.prototype.toSortingDesc=function(t){return{code:this.script,operands:this._children.map(function(e){return e.toSortingDesc(t)})}},e}(o.a);e.a=s,s.EVENT_SCRIPT_CHANGED="scriptChanged",s.DEFAULT_SCRIPT="return Math.max.apply(Math,values)"},function(t,e,n){"use strict";function r(t){return void 0===t&&(t="Combined"),{type:"stack",label:t}}var i=n(11),o=n(2);e.b=r;var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.collapsed=!1;var i=r;return r.adaptChange=function(t,e){i.adaptWidthChange(this.source,t,e)},r}return a(e,t),e.prototype.createEventList=function(){return t.prototype.createEventList.call(this).concat([e.EVENT_COLLAPSE_CHANGED,e.EVENT_WEIGHTS_CHANGED])},e.prototype.setCollapsed=function(t){this.collapsed!==t&&this.fire([e.EVENT_COLLAPSE_CHANGED,o.a.EVENT_DIRTY_HEADER,o.a.EVENT_DIRTY_VALUES,o.a.EVENT_DIRTY],this.collapsed,this.collapsed=t)},e.prototype.getCollapsed=function(){return this.collapsed},e.prototype.flatten=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i=null,a=n<=o.a.FLAT_ALL_COLUMNS?this._children:this._children.filter(function(t){return!t.isHidden()});if(0===n||n<=o.a.FLAT_ALL_COLUMNS){var s=this.getCompressed()?o.a.COMPRESSED_WIDTH:this.getWidth();if(this.collapsed||this.getCompressed()||(s+=(a.length-1)*r),t.push(i={col:this,offset:e,width:s}),0===n)return s}var c=e;return a.forEach(function(e){c+=e.flatten(t,c,n-1,r)+r}),i&&(i.width=c-e-r),c-e-r},e.prototype.dump=function(e){var n=t.prototype.dump.call(this,e);return n.collapsed=this.collapsed,n},e.prototype.restore=function(e,n){this.collapsed=e.collapsed===!0,t.prototype.restore.call(this,e,n)},e.prototype.insert=function(e,n,r){return void 0===r&&(r=NaN),isNaN(r)||e.setWidth(r/(1-r)*this.getWidth()),e.on(o.a.EVENT_WIDTH_CHANGED+".stack",this.adaptChange),t.prototype.setWidth.call(this,0===this.length?e.getWidth():this.getWidth()+e.getWidth()),t.prototype.insert.call(this,e,n)},e.prototype.push=function(t,e){return void 0===e&&(e=NaN),this.insert(t,this.length,e)},e.prototype.insertAfter=function(t,e,n){void 0===n&&(n=NaN);var r=this.indexOf(e);return r<0?null:this.insert(t,r+1,n)},e.prototype.adaptWidthChange=function(t,n,r){if(n!==r){var i=this.getWeights(),a=this.getWidth(),s=(r-n)/a,c=n/a,l=(1-c-s)/(1-c);this._children.forEach(function(e){e===t||e.setWidthImpl(e.getWidth()*l)}),this.fire([e.EVENT_WEIGHTS_CHANGED,o.a.EVENT_DIRTY_HEADER,o.a.EVENT_DIRTY_VALUES,o.a.EVENT_DIRTY],i,this.getWeights())}},e.prototype.getWeights=function(){var t=this.getWidth();return this._children.map(function(e){return e.getWidth()/t})},e.prototype.setWeights=function(t){var n,r=this.getWeights(),i=t.length-this.length;if(i<0)if((n=t.reduce(function(t,e){return t+e},0))<=1)for(var a=0;a<-i;++a)t.push(1/-i*(1-n));else if(n<=100)for(var a=0;a<-i;++a)t.push(1/-i*(100-n));t=t.slice(0,this.length),n=t.reduce(function(t,e){return t+e},0)/this.getWidth(),t=t.map(function(t){return t/n}),this._children.forEach(function(e,n){e.setWidthImpl(t[n])}),this.fire([e.EVENT_WEIGHTS_CHANGED,o.a.EVENT_DIRTY_HEADER,o.a.EVENT_DIRTY_VALUES,o.a.EVENT_DIRTY],r,t)},e.prototype.removeImpl=function(e){return e.on(o.a.EVENT_WIDTH_CHANGED+".stack",null),t.prototype.setWidth.call(this,1===this.length?100:this.getWidth()-e.getWidth()),t.prototype.removeImpl.call(this,e)},e.prototype.setWidth=function(e){var n=e/this.getWidth();this._children.forEach(function(t){t.setWidthImpl(t.getWidth()*n)}),t.prototype.setWidth.call(this,e)},e.prototype.compute=function(t,e){var n=this.getWidth();return this._children.reduce(function(r,i){return r+i.getValue(t,e)*(i.getWidth()/n)},0)},e.prototype.rendererType=function(){return this.getCollapsed()&&this.isLoaded()?e.COLLAPSED_RENDERER:t.prototype.getRendererType.call(this)},e.prototype.toSortingDesc=function(t){var e=this.getWeights();return this._children.map(function(n,r){return{weight:e[r],id:n.toSortingDesc(t)}})},e}(i.a);e.a=s,s.EVENT_COLLAPSE_CHANGED="collapseChanged",s.EVENT_WEIGHTS_CHANGED="weightsChanged",s.COLLAPSED_RENDERER="number"},function(t,e,n){"use strict";var r=n(0),i=(n.n(r),n(3)),o=n(2),a=n(13),s=n(1);n.d(e,"b",function(){return l});var c=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},l=n.i(s.a)({mean:"mean"},a.b),u=function(){function t(t){this.values=t,this._sorted=null}return Object.defineProperty(t.prototype,"sorted",{get:function(){return null===this._sorted&&(this._sorted=this.values.slice().sort(r.ascending)),this._sorted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return Math.min.apply(Math,this.values)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return Math.max.apply(Math,this.values)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"median",{get:function(){return n.i(r.median)(this.sorted)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"q1",{get:function(){return n.i(r.quantile)(this.sorted,.25)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"q3",{get:function(){return n.i(r.quantile)(this.sorted,.75)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mean",{get:function(){return n.i(r.mean)(this.values)},enumerable:!0,configurable:!0}),t}(),p=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.domain=n.domain||[0,100],r.dataLength=n.dataLength,r.threshold=n.threshold||0,r.colorRange=n.colorRange||["blue","red"],r.sort=n.sort||l.min;var i=[{type:"multiValue",label:"Heatmap"},{type:"boxplot",label:"Boxplot"},{type:"sparkline",label:"Sparkline"},{type:"threshold",label:"Threshold"},{type:"verticalbar",label:"VerticalBar"}];return r.setRendererList(i),r}return c(e,t),e.prototype.getColorValues=function(){return this.colorRange.length>2?this.colorRange.slice():[this.colorRange[0],"white",this.colorRange[1]]},e.prototype.compare=function(t,e,r,i){return n.i(a.c)(this,t,e,r,i)},e.prototype.getColorScale=function(){var t=r.scale.linear(),e=this.getColorValues();return this.domain[0]<0?t.domain([this.domain[0],0,this.domain[1]]).range(e):t.domain([this.domain[0],this.domain[1]]).range(e),t},e.prototype.getNumber=function(t,e){return this.getValue(t,e)},e.prototype.calculateCellDimension=function(t){return t/this.dataLength},e.prototype.getSparklineScale=function(){var t=r.scale.linear(),e=r.scale.linear();return{xScale:t.domain([0,this.dataLength-1]),yScale:e.domain(this.domain)}},e.prototype.getDomain=function(){return this.domain},e.prototype.getThreshold=function(){return this.threshold},e.prototype.getVerticalBarScale=function(){return r.scale.linear().domain(this.domain)},e.prototype.getBoxPlotData=function(t,e){var n=this.getValue(t,e);return null===n?null:new u(n)},e.prototype.getSortMethod=function(){return this.sort},e.prototype.setSortMethod=function(t){this.sort!==t&&(this.fire([o.a.EVENT_SORTMETHOD_CHANGED],this.sort,this.sort=t),this.findMyRanker().getSortCriteria().col!==this&&this.sortByMe())},e.prototype.dump=function(e){var n=t.prototype.dump.call(this,e);return n.sortMethod=this.getSortMethod(),n},e.prototype.restore=function(e,n){t.prototype.restore.call(this,e,n),e.sortMethod&&(this.sort=e.sortMethod)},e}(i.a);e.a=p},function(t,e,n){"use strict";function r(t){return void 0===t&&(t="S"),{type:"selection",label:t}}var i=n(0),o=(n.n(i),n(3));e.b=r;var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.setCompressed(!0),r}return a(e,t),e.prototype.createEventList=function(){return t.prototype.createEventList.call(this).concat([e.EVENT_SELECT])},e.prototype.setValue=function(t,e,n){return this.getValue(t,e)===n||this.setImpl(t,e,n)},e.prototype.setImpl=function(t,n,r){return this.desc.setter&&this.desc.setter(t,n,r),this.fire(e.EVENT_SELECT,t,r),!0},e.prototype.toggleValue=function(t,e){var n=this.getValue(t,e);return this.setImpl(t,e,!n),!n},e.prototype.compare=function(t,e,r,o){return n.i(i.ascending)(this.getValue(t,r),this.getValue(e,o))},e}(o.a);e.a=s,s.EVENT_SELECT="select"},function(t,e,n){"use strict";var r,i=n(0),o=(n.n(i),n(1)),a=n(12),s=n(2),c=n(10),l=n(8),u=n(7),p=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};!function(t){t[t.DIRTY=0]="DIRTY",t[t.SCROLLED=1]="SCROLLED"}(r||(r={}));var h=function(t){function e(e,r,a,s,c){void 0===c&&(c={});var l=t.call(this)||this;return l.data=e,l.slicer=a,l.options={rowHeight:20,rowPadding:1,rowBarPadding:1,idPrefix:"",slopeWidth:150,columnPadding:5,stacked:!0,animation:!1,animationDuration:1e3,renderers:n.i(o.a)({},u.renderers),meanLine:!1,actions:[],freezeCols:0},l.histCache=new Map,n.i(o.a)(l.options,c),l.$node=i.select(r).append(s).classed("lu-body",!0),l.changeDataStorage(e),l}return p(e,t),e.prototype.createEventList=function(){return t.prototype.createEventList.call(this).concat([e.EVENT_HOVER_CHANGED,e.EVENT_RENDER_FINISHED])},Object.defineProperty(e.prototype,"node",{get:function(){return this.$node.node()},enumerable:!0,configurable:!0}),e.prototype.setOption=function(t,e){this.options[t]=e},e.prototype.changeDataStorage=function(t){this.data&&this.data.on([l.a.EVENT_DIRTY_VALUES+".bodyRenderer",l.a.EVENT_SELECTION_CHANGED+".bodyRenderer"],null),this.data=t,t.on(l.a.EVENT_DIRTY_VALUES+".bodyRenderer",n.i(o.d)(this.update.bind(this),1)),t.on(l.a.EVENT_SELECTION_CHANGED+".bodyRenderer",n.i(o.d)(this.drawSelection.bind(this),1))},e.prototype.showMeanLine=function(t){return this.options.meanLine&&n.i(a.isNumberColumn)(t)&&!t.getCompressed()&&t.parent instanceof a.Ranking},e.prototype.fireFinished=function(){this.fire(e.EVENT_RENDER_FINISHED,this)},e.prototype.createContext=function(t,e){function n(t,e){if(t in i)return i[t];if(t.indexOf(".")>0){var n=t.substring(0,t.indexOf("."));if(t=t.substring(t.indexOf(".")+1),n in i&&t in i[n])return i[n][t]}return e}var r=this,i=this.options;return{cellY:function(e){return(e+t)*r.options.rowHeight},cellPrevY:function(e){return(e+t)*r.options.rowHeight},idPrefix:i.idPrefix,option:n,rowHeight:function(){return i.rowHeight-i.rowPadding},renderer:function(t){return e(t,i.renderers,this)}}},e.prototype.select=function(t,e){return void 0===e&&(e=!1),this.data.toggleSelection(t,e)},e.prototype.fakeHover=function(t){this.mouseOver(t,!0)},e.prototype.mouseOver=function(t,n){void 0===n&&(n=!0),this.fire(e.EVENT_HOVER_CHANGED,n?t:-1)},e.prototype.scrolled=function(){return this.update(r.SCROLLED)},e.prototype.update=function(t){var e=this;void 0===t&&(t=r.DIRTY);var o=this.data.getRankings(),a=i.max(o,function(t){return t.getOrder().length})||0,l=this.options.rowHeight*a,u=this.slicer(0,a,function(t){return t*e.options.rowHeight}),p=function(t){return 0===u.from&&t.length<=u.to?t:t.slice(u.from,Math.min(t.length,u.to))},h=this.createContextImpl(u.from),d=o.map(function(t){return p(t.getOrder())}),f=this.data.fetch(d),g=this.options.columnPadding,y=0,v=o.map(function(t,r){var i=t.children.filter(function(t){return!t.isHidden()}),o=y,a=0,l=i.map(function(t){var e=a;return a+=(t.getCompressed()?s.a.COMPRESSED_WIDTH:t.getWidth())+g,!n.i(c.a)(t)||t.getCollapsed()||t.getCompressed()||(a+=g*(t.length-1)),{column:t,renderer:h.renderer(t),shift:e}});y+=a,y+=e.options.slopeWidth;var u=l.slice(0,e.options.freezeCols);return{id:t.id,ranking:t,order:d[r],shift:o,width:a,frozen:u,frozenWidth:Math.max.apply(Math,u.map(function(t){return t.shift+t.column.getWidth()})),columns:l.slice(e.options.freezeCols),data:f[r]}});return y-=this.options.slopeWidth,this.updateImpl(v,h,y,l,t).then(this.fireFinished.bind(this))},e}(o.c);h.EVENT_HOVER_CHANGED="hoverChanged",h.EVENT_RENDER_FINISHED="renderFinished",e.a=h},function(t,e,n){"use strict";function r(t){var e=l.scale.category10().range().slice();return t.forEach(function(t){switch(t.type){case"number":t.color=e.shift()}}),t}var i=n(8),o=n(7),a=n(31),s=n(21),c=n(1),l=n(0);n.n(l);e.b=r;var u=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},p=function(t){function e(r,s,u){void 0===u&&(u={});var p=t.call(this)||this;return p.data=s,p.config={idPrefix:Math.random().toString(36).slice(-8).substr(0,3),header:{headerHeight:20,headerHistogramHeight:40,autoRotateLabels:!1,rotationHeight:50,rotationDegree:-20,rankingButtons:a.dummyRankingButtonHook,linkTemplates:[]},htmlLayout:{},renderingOptions:{stacked:!0,animation:!0,histograms:!1,meanLine:!1},body:{renderer:"svg",rowHeight:18,rowPadding:1,rowBarPadding:1,visibleRowsOnly:!0,backupScrollRows:4,animationDuration:1e3,freezeCols:0,actions:[]},svgLayout:{},manipulative:!0,pool:!1,renderers:n.i(c.a)({},o.renderers)},p.body=null,p.header=null,p.pools=[],p.contentScroller=null,p.isUpdateInitialized=!1,p.$container=r instanceof l.selection?r:n.i(l.select)(r),p.$container=p.$container.append("div").classed("lu",!0),p.config.svgLayout=p.config.body,p.config.htmlLayout=p.config.header,n.i(c.a)(p.config,u),p.data.on(i.a.EVENT_SELECTION_CHANGED+".main",p.triggerSelection.bind(p)),p.data.on(i.a.EVENT_JUMP_TO_NEAREST+".main",p.jumpToNearest.bind(p)),p.header=new a.HeaderRenderer(s,p.node,n.i(c.a)({},p.config.header,{idPrefix:p.config.idPrefix,manipulative:p.config.manipulative,histograms:p.config.renderingOptions.histograms,freezeCols:p.config.body.freezeCols})),p.body=n.i(a.createBodyRenderer)(p.config.body.renderer,s,p.node,p.slice.bind(p),n.i(c.a)({},p.config.body,{meanLine:p.config.renderingOptions.meanLine,animation:p.config.renderingOptions.animation,stacked:p.config.renderingOptions.stacked,idPrefix:p.config.idPrefix,renderers:p.config.renderers})),p.body.histCache=p.header.sharedHistCache,p.forward(p.body,e.EVENT_HOVER_CHANGED),p.config.pool&&p.config.manipulative&&p.addPool(new a.PoolRenderer(s,p.node,p.config)),p.config.body.visibleRowsOnly&&(p.contentScroller=new c.b(p.$container.node(),p.body.node,{backupRows:p.config.body.backupScrollRows,rowHeight:p.config.body.rowHeight,topShift:function(){return p.header.currentHeight()}}),p.contentScroller.on(c.b.EVENT_SCROLL,function(t,e){p.header.$node.style("transform","translate(0px, "+t+"px)"),p.config.body.freezeCols>0&&(p.header.updateFreeze(e),p.body.updateFreeze(e))}),p.contentScroller.on(c.b.EVENT_REDRAW,p.body.scrolled.bind(p.body))),p}return u(e,t),e.prototype.createEventList=function(){return t.prototype.createEventList.call(this).concat([e.EVENT_HOVER_CHANGED,e.EVENT_SELECTION_CHANGED,e.EVENT_MULTISELECTION_CHANGED,e.EVENT_UPDATE_START,e.EVENT_UPDATE_FINISHED])},e.prototype.addPool=function(t,e){return void 0===e&&(e=this.config),t instanceof a.PoolRenderer?this.pools.push(t):this.pools.push(new a.PoolRenderer(this.data,t,e)),this.pools[this.pools.length-1]},Object.defineProperty(e.prototype,"node",{get:function(){return this.$container.node()},enumerable:!0,configurable:!0}),e.prototype.slice=function(t,e,n){return this.contentScroller?this.contentScroller.select(t,e,n):{from:t,to:e}},e.prototype.destroy=function(){this.pools.forEach(function(t){return t.remove()}),this.$container.remove(),this.contentScroller&&this.contentScroller.destroy()},e.prototype.sortBy=function(t,e){void 0===e&&(e=!1);var n=this.data.find(t);return n&&n.sortByMe(e),null!==n},e.prototype.dump=function(){return this.data.dump()},e.prototype.changeDataStorage=function(t,e){this.data&&this.data.on([i.a.EVENT_SELECTION_CHANGED+".main",i.a.EVENT_JUMP_TO_NEAREST+".main"],null),this.data=t,e&&this.data.restore(e),this.data.on(i.a.EVENT_SELECTION_CHANGED+".main",this.triggerSelection.bind(this)),this.data.on(i.a.EVENT_JUMP_TO_NEAREST+".main",this.jumpToNearest.bind(this)),this.header.changeDataStorage(t),this.body.changeDataStorage(t),this.pools.forEach(function(e){return e.changeDataStorage(t)}),this.update()},e.prototype.triggerSelection=function(t){this.fire(e.EVENT_SELECTION_CHANGED,t.length>0?t[0]:-1),this.fire(e.EVENT_MULTISELECTION_CHANGED,t)},e.prototype.jumpToNearest=function(t){var e=this,n=this.data.getRankings()[0];if(0!==t.length&&void 0!==n){var r=n.getOrder(),i=t.map(function(t){return r.indexOf(t)}).sort(function(t,e){return t-e});if(this.contentScroller)this.contentScroller.scrollIntoView(0,r.length,i[0],function(t){return t*e.config.body.rowHeight});else{this.$container.node().scrollTop=i[0]*this.config.body.rowHeight}setTimeout(function(){e.body.fakeHover(r[i[0]])},100)}},e.prototype.restore=function(t){this.changeDataStorage(this.data,t)},e.prototype.update=function(){var t=this,n=this.isUpdateInitialized?1:3;this.isUpdateInitialized=!0,this.fire(e.EVENT_UPDATE_START),this.header.update(),this.body.update(),this.pools.forEach(function(t){return t.update()}),this.body.on(s.a.EVENT_RENDER_FINISHED+".main",function(){0===(n-=1)&&t.fire(e.EVENT_UPDATE_FINISHED)})},e.prototype.changeRenderingOption=function(t,e){this.config.renderingOptions[t]=e,"animation"!==t&&"stacked"!==t||(this.body.setOption(t,e),this.body.update())},e}(c.c);e.a=p,p.EVENT_HOVER_CHANGED=s.a.EVENT_HOVER_CHANGED,p.EVENT_SELECTION_CHANGED=i.a.EVENT_SELECTION_CHANGED,p.EVENT_MULTISELECTION_CHANGED="multiSelectionChanged",p.EVENT_UPDATE_START="updateStart",p.EVENT_UPDATE_FINISHED="updateFinished"},function(t,e,n){"use strict";var r=n(2),i=n(6),o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.link=null,r.link=n.link,r}return o(e,t),Object.defineProperty(e.prototype,"headerCssClass",{get:function(){return null==this.link?"link":"link link_pattern"},enumerable:!0,configurable:!0}),e.prototype.createEventList=function(){return t.prototype.createEventList.call(this).concat([e.EVENT_LINK_CHANGED])},e.prototype.setLink=function(t){t!=this.link&&this.fire([e.EVENT_LINK_CHANGED,r.a.EVENT_DIRTY_HEADER,r.a.EVENT_DIRTY_VALUES,r.a.EVENT_DIRTY],this.link,this.link=t)},e.prototype.getLink=function(){return this.link||""},e.prototype.dump=function(e){var n=t.prototype.dump.call(this,e);return this.link!=this.desc.link&&(n.link=this.link),n},e.prototype.restore=function(e,n){t.prototype.restore.call(this,e,n),e.link&&(this.link=e.link)},e.prototype.getLabel=function(e,n){var r=t.prototype.getRaw.call(this,e,n);return r&&r.alt?r.alt:""+r},e.prototype.isLink=function(e,n){if(this.link)return!0;var r=t.prototype.getRaw.call(this,e,n);return r&&null!=r.href},e.prototype.getValue=function(e,n){var r=t.prototype.getRaw.call(this,e,n);return r&&r.href?r.href:this.link?this.link.replace(/\$1/g,r||""):r},e}(i.a);e.a=a,a.EVENT_LINK_CHANGED="linkChanged"},function(t,e,n){"use strict";function r(t){return void 0===t&&(t="Max"),{type:"max",label:t}}var i=n(0),o=(n.n(i),n(11));e.b=r;var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.getColor=function(t,e){var n=this._children;if(0===n.length)return this.color;for(var r=0,i=n[0].getValue(t,e),o=1;o<n.length;++o){var a=n[o].getValue(t,e);a>i&&(r=o,i=a)}return n[r].color},e.prototype.compute=function(t,e){return n.i(i.max)(this._children,function(n){return n.getValue(t,e)})},e.prototype.toSortingDesc=function(t){return{operation:"max",operands:this._children.map(function(e){return e.toSortingDesc(t)})}},e}(o.a);e.a=s},function(t,e,n){"use strict";function r(t){return void 0===t&&(t="Mean"),{type:"mean",label:t}}var i=n(0),o=(n.n(i),n(11));e.b=r;var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.compute=function(t,e){return n.i(i.mean)(this._children,function(n){return n.getValue(t,e)})},e.prototype.toSortingDesc=function(t){return{operation:"avg",operands:this._children.map(function(e){return e.toSortingDesc(t)})}},e}(o.a);e.a=s},function(t,e,n){"use strict";function r(t){return void 0===t&&(t="Min"),{type:"min",label:t}}var i=n(0),o=(n.n(i),n(11));e.b=r;var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.getColor=function(t,e){var n=this._children;if(0===n.length)return this.color;for(var r=0,i=n[0].getValue(t,e),o=1;o<n.length;++o){var a=n[o].getValue(t,e);a<i&&(r=o,i=a),o++}return n[r].color},e.prototype.compute=function(t,e){return n.i(i.min)(this._children,function(n){return n.getValue(t,e)})},e.prototype.toSortingDesc=function(t){return{operation:"min",operands:this._children.map(function(e){return e.toSortingDesc(t)})}},e}(o.a);e.a=s},function(t,e,n){"use strict";function r(t){return void 0===t&&(t="Nested"),{type:"nested",label:t}}var i=n(52);e.b=r;var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.compare=function(t,e,n,r){for(var i=this.children,o=0,a=i;o<a.length;o++){var s=a[o],c=s.compare(t,e,n,r);if(0!==c)return c}return 0},e.prototype.getLabel=function(t,e){return this.children.map(function(n){return n.getLabel(t,e)}).join(";")},e.prototype.getValue=function(t,e){return this.children.map(function(n){return n.getValue(t,e)}).join(";")},e}(i.a);e.a=a},function(t,e,n){"use strict";var r=n(1);n.d(e,"a",function(){return i});var i=function(){function t(t,e){void 0===t&&(t="text"),void 0===e&&(e="left"),this.textClass=t,this.align=e,this.textClass=t,this.align=e}return t.prototype.createSVG=function(t,e){var i=this;return{template:'<text class="'+this.textClass+'" clip-path="url(#cp'+e.idPrefix+"clipCol"+t.id+')"></text>',update:function(e,o){var a=2;"right"===i.align?a=t.getWidth()-5:"center"===i.align&&(a=.5*t.getWidth()),n.i(r.h)(e,{x:a}),e.textContent=t.getLabel(o.v,o.dataIndex)}}},t.prototype.createHTML=function(t,e){return{template:'<div class="'+this.textClass+" "+this.align+'"></div>',update:function(e,i){n.i(r.h)(e,{},{width:t.getWidth()+"px"}),e.textContent=t.getLabel(i.v,i.dataIndex)}}},t.prototype.createCanvas=function(t,e){var i=this;return function(o,a){var s=o.textAlign;o.textAlign=i.align;var c=t.getWidth(),l=0;"center"===i.align?l=c/2:"right"===i.align&&(l=c),n.i(r.g)(o,t.getLabel(a.v,a.dataIndex),l,0,c,e.textHints),o.textAlign=s}},t}()},function(t,e,n){"use strict";var r=n(0),i=(n.n(r),n(1)),o=n(21),a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=function(t){function e(e,n,r,i,o){void 0===o&&(o={});var a=t.call(this,e,n,r,i.root,o)||this;return a.domMapping=i,a.currentFreezeLeft=0,a}return a(e,t),e.prototype.animated=function(t){return this.options.animationDuration>0&&this.options.animation?t.transition().duration(this.options.animationDuration):t},e.prototype.renderRankings=function(t,e,o,a){var s=this,c=this,l=this.domMapping,u=this.domMapping.g,p=t.selectAll(u+".ranking").data(e,function(t){return t.id}),h=p.enter().append(u).attr("class","ranking").call(l.transform,function(t){return[t.shift,0]});h.append(u).attr("class","rows"),h.append(u).attr("class","meanlines").attr("clip-path","url(#c"+this.options.idPrefix+"Freeze)"),this.animated(p).call(l.transform,function(t,e){return[t.shift,0]});var d=[],f=p.select(u+".rows").selectAll(u+".row").data(function(t){return t.order},String),g=f.enter().append(u).attr("class","row");g.call(l.transform,function(t,e){return[0,o.cellPrevY(e)]}),g.append(l.bg).attr("class","bg"),g.on("mouseenter",function(t){return s.mouseOver(t,!0)}).on("mouseleave",function(t){return s.mouseOver(t,!1)}).on("click",function(t){return s.select(t,r.event.ctrlKey)});var y=function(t,e){n.i(i.i)(t,e),e.forEach(function(e,n){var r=t.childNodes[n];l.translate(r,e.shift,0)})};g.append(u).attr("class","cols").attr("clip-path","url(#c"+this.options.idPrefix+"Freeze)").each(function(t,n,r){y(this,e[r].columns)}),g.append(u).attr("class","frozen").call(this.domMapping.transform,function(){return[s.currentFreezeLeft,0]}).each(function(t,n,r){y(this,e[r].frozen)}),f.attr("class",function(t,e){return"row "+(e%2==0?"even":"")}).attr("data-data-index",function(t){return t}).classed("selected",function(t){return s.data.isSelected(t)}),this.animated(f).call(l.transform,function(t,e){return[0,o.cellY(e)]}),f.select(l.bg).attr("class","bg").call(l.updateBG,function(t,n,r){return[e[r].width,o.rowHeight(n)]});var v=function(t,e,r,o){return e.data[r].then(function(e){n.i(i.i)(t,o),o.forEach(function(n,i){var o=t.childNodes[i];l.translate(o,n.shift,0),n.renderer.update(o,e,r)})})};f.select(u+".cols").each(function(t,n,r){d.push(v(this,e[r],n,e[r].columns))});var m=0===e.length||0===e[0].frozen.length?0:r.max(e[0].frozen,function(t){return t.shift+t.column.getWidth()});f.select(u+".frozen").each(function(t,n,r){l.setSize(this,m,c.options.rowHeight),d.push(v(this,e[r],n,e[r].frozen))}),f.exit().remove();var E=p.select(u+".meanlines").selectAll(l.meanLine+".meanline").data(function(t){return t.columns.filter(function(t){return s.showMeanLine(t.column)})});return E.enter().append(l.meanLine).attr("class","meanline"),E.each(function(t){var e=c.histCache.get(t.column.id),n=r.select(this);e&&e.then(function(e){var r=t.shift+t.column.getWidth()*e.mean;l.updateMeanLine(n,isNaN(r)?0:r,a)})}),E.exit().remove(),p.exit().remove(),Promise.all(d)},e.prototype.select=function(e,n){void 0===n&&(n=!1);var r=t.prototype.select.call(this,e,n);return this.$node.selectAll('[data-data-index="'+e+'"]').classed("selected",r),r},e.prototype.drawSelection=function(){var t=this.data.getSelection();if(n.i(i.j)(this.node,".selected",function(t){return t.classList.remove("selected")}),0!==t.length){var e=t.map(function(t){return"[data-data-index='"+t+"']"}).join(",");n.i(i.j)(this.node,e,function(t){return t.classList.add("selected")})}},e.prototype.mouseOver=function(e,r){function o(t){t.classList.add("hover")}void 0===r&&(r=!0),t.prototype.mouseOver.call(this,e,r),n.i(i.j)(this.node,".hover",function(t){return t.classList.remove("hover")}),r&&n.i(i.j)(this.node,"[data-data-index='"+e+"']",o)},e.prototype.renderSlopeGraphs=function(t,e,n,r){var i=this,o=e.slice(1).map(function(t,n){return{left:e[n].order,left_i:n,right:t.order,right_i:n+1}}),a=t.selectAll(this.domMapping.slopes+".slopegraph").data(o);a.enter().append(this.domMapping.slopes).attr("class","slopegraph"),a.call(this.domMapping.updateSlopes,this.options.slopeWidth,r,function(t,n){return e[n+1].shift-i.options.slopeWidth});var s=a.selectAll("line.slope").data(function(t){var e=new Map;return t.right.forEach(function(t,n){return e.set(t,n)}),t.left.map(function(t,n){return{dataIndex:t,lpos:n,rpos:e.get(t)}}).filter(function(t){return null!=t.rpos})});s.enter().append("line").attr({class:"slope",x2:this.options.slopeWidth}).on("mouseenter",function(t){return i.mouseOver(t.dataIndex,!0)}).on("mouseleave",function(t){return i.mouseOver(t.dataIndex,!1)}),s.attr("data-data-index",function(t){return t.dataIndex}),s.attr({y1:function(t){return.5*n.rowHeight(t.lpos)+n.cellY(t.lpos)},y2:function(t){return.5*n.rowHeight(t.rpos)+n.cellY(t.rpos)}}),s.exit().remove(),a.exit().remove()},e.prototype.updateFreeze=function(t){var e=this;n.i(i.j)(this.node,this.domMapping.g+".row .frozen",function(n){e.domMapping.translate(n,t,0)});var r=this.node.querySelector("clipPath#c"+this.options.idPrefix+"Freeze");r&&this.domMapping.translate(r,t,0),this.currentFreezeLeft=t},e.prototype.createContextImpl=function(t){return this.createContext(t,this.domMapping.creator)},e.prototype.updateImpl=function(t,e,n,r,i){this.domMapping.setSize(this.node,Math.max(0,n),r);var o=this.$node.select(this.domMapping.g+".body");return o.empty()&&(o=this.$node.append(this.domMapping.g).classed("body",!0)),this.renderSlopeGraphs(o,t,e,r),this.updateClipPaths(t,e,r),this.renderRankings(o,t,e,r)},e}(o.a);e.a=s},function(t,e,n){"use strict";function r(t){var e=t.label;return null!=t.description&&""!==t.description&&(e+="\n"+t.description),e}function i(){return null}function o(t){return!n.i(p.a)(t)||t.getCollapsed()||t.getCompressed()?1:1+Math.max.apply(Math,t.children.map(o))}var a=n(0),s=(n.n(a),n(1)),c=n(2),l=n(6),u=n(16),p=n(10),h=n(5),d=n(14),f=n(15),g=n(18),y=n(23),v=n(17),m=n(8),E=n(19),_=n(13),b=n(43),T=n(40),N=n(38),x=n(41),D=n(46),V=n(44),C=n(45),R=n(35),w=n(36),S=n(39),k=n(37),L=n(42);e.c=r,e.b=i;var A=function(){function t(t,e,r){var o=this;this.data=t,this.options={idPrefix:"",slopeWidth:150,columnPadding:5,headerHistogramHeight:40,headerHeight:20,manipulative:!0,histograms:!1,filters:{string:C.a,boolean:R.a,categorical:w.a,number:S.a,ordinal:k.a},linkTemplates:[],searchAble:function(t){return t instanceof l.a},sortOnLabel:!0,autoRotateLabels:!1,rotationHeight:50,rotationDegree:-20,freezeCols:0,rankingButtons:i},this.histCache=new Map,this.dragHandler=a.behavior.drag().on("dragstart",function(){a.select(this).classed("dragging",!0),a.event.sourceEvent.stopPropagation(),a.event.sourceEvent.preventDefault()}).on("drag",function(t){var e=Math.max(a.mouse(this.parentNode)[0],2);t.setWidth(e),a.event.sourceEvent.stopPropagation(),a.event.sourceEvent.preventDefault()}).on("dragend",function(){a.select(this).classed("dragging",!1),a.event.sourceEvent.stopPropagation(),a.event.sourceEvent.preventDefault()}),this.dropHandler=n.i(s.l)(["application/caleydo-lineup-column-ref","application/caleydo-lineup-column"],function(t,e,n){var r=null;if("application/caleydo-lineup-column-ref"in t){var i=t["application/caleydo-lineup-column-ref"];r=o.data.find(i),n?r=o.data.clone(r):r.removeMe()}else{var a=JSON.parse(t["application/caleydo-lineup-column"]);r=o.data.create(o.data.fromDescRef(a))}return e instanceof c.a?null!=e.insertAfterMe(r):null!==o.data.getLastRanking().push(r)}),n.i(s.a)(this.options,r),this.$node=a.select(e).append("div").classed("lu-header",!0),this.$node.append("div").classed("drop",!0).call(this.dropHandler),this.changeDataStorage(t)}return t.prototype.changeDataStorage=function(t){var e=this;this.data&&this.data.on([m.a.EVENT_DIRTY_HEADER+".headerRenderer",m.a.EVENT_ORDER_CHANGED+".headerRenderer",m.a.EVENT_SELECTION_CHANGED+".headerRenderer"],null),this.data=t,t.on(m.a.EVENT_DIRTY_HEADER+".headerRenderer",n.i(s.d)(this.update.bind(this),1)),this.options.histograms&&(t.on(m.a.EVENT_ORDER_CHANGED+".headerRenderer",function(){e.updateHist(),e.update()}),t.on(m.a.EVENT_SELECTION_CHANGED+".headerRenderer",n.i(s.d)(this.drawSelection.bind(this),1)))},Object.defineProperty(t.prototype,"sharedHistCache",{get:function(){return this.histCache},enumerable:!0,configurable:!0}),t.prototype.currentHeight=function(){return parseInt(this.$node.style("height"),10)},t.prototype.updateHist=function(){var t=this;this.data.getRankings().forEach(function(e){var r=e.getOrder(),i=e.flatColumns,o=null==r?null:t.data.stats(r);i.filter(function(t){return t instanceof h.b&&!t.isHidden()}).forEach(function(e){t.histCache.set(e.id,null===o?null:o.stats(e))}),i.filter(function(t){return n.i(d.b)(t)&&!t.isHidden()}).forEach(function(e){t.histCache.set(e.id,null===o?null:o.hist(e))})})},t.prototype.drawSelection=function(){var t=this;if(this.options.histograms){var e=this.$node.node();n.i(s.j)(e,"div.bar",function(t){return t.classList.remove("selected")});var r=this.data.getSelection();r.length<=0||this.data.view(r).then(function(i){t.data.getRankings().forEach(function(t){var o=t.flatColumns;o.filter(function(t){return t instanceof h.b&&!t.isHidden()}).forEach(function(t){var n=[].slice.call(e.querySelectorAll('div.header[data-id="'+t.id+'"] div.bar'));i.forEach(function(e,i){for(var o=t.getValue(e,r[i]),a=1;a<n.length;++a){var s=n[a];if(s.dataset.x>o){n[a-1].classList.add("selected");break}if(a===n.length-1){s.classList.add("selected");break}}})}),o.filter(function(t){return n.i(d.b)(t)&&!t.isHidden()}).forEach(function(t){var n=e.querySelector('div.header[data-id="'+t.id+'"]');i.forEach(function(e,i){(t.getCategories(e,r[i])||[]).forEach(function(t){n.querySelector('div.bar[data-cat="'+t+'"]').classList.add("selected")})})})})})}},t.prototype.renderRankingButtons=function(t,e){var n=this.$node.selectAll("div.rankingbuttons").data(t);n.enter().append("div").classed("rankingbuttons",!0).call(this.options.rankingButtons),n.style("left",function(t,n){return e[n]+"px"}),n.exit().remove()},t.prototype.update=function(){var t=this,e=this,n=this.data.getRankings(),r=[],s=[],c=0;n.forEach(function(e){c+=e.flatten(r,c,1,t.options.columnPadding)+t.options.slopeWidth,s.push(c-t.options.slopeWidth)}),c-=this.options.slopeWidth,this.$node.select("div.drop").style("width",c+"px");var l=r.map(function(t){return t.col});this.options.histograms&&0===this.histCache.size&&n.length>0&&this.updateHist(),this.renderColumns(l,r),this.options.rankingButtons!==i&&this.renderRankingButtons(n,s);var u=Math.max.apply(Math,l.map(o)),p=(this.options.histograms?this.options.headerHistogramHeight:this.options.headerHeight)+(u-1)*this.options.headerHeight;if(this.options.autoRotateLabels){var h=!1;this.$node.selectAll("div.header").style("height",p+"px").select("div.lu-label").each(function(t){this.querySelector("span.lu-label").offsetWidth>t.getWidth()+30?(a.select(this).style("transform","rotate("+e.options.rotationDegree+"deg)"),h=!0):a.select(this).style("transform",null)}),this.$node.selectAll("div.header").style("margin-top",h?this.options.rotationHeight+"px":null),p+=h?this.options.rotationHeight:0}this.$node.style("height",p+"px")},t.prototype.createToolbar=function(t){var e=this,r=this.data,i=this,o=t.filter(function(t){return!(t instanceof f.a)});o.append("i").attr("class","fa fa-pencil-square-o").attr("title","Rename").on("click",function(t){new T.a(t,a.select(this.parentNode.parentNode)).openDialog(),a.event.stopPropagation()}),o.append("i").attr("class","fa fa-code-fork").attr("title","Generate Snapshot").on("click",function(t){r.takeSnapshot(t),a.event.stopPropagation()}),t.filter(function(t){return t instanceof E.a||t instanceof _.a}).append("i").attr("class","fa fa-sort").attr("title","Sort By").on("click",function(t){new V.a(t,a.select(this.parentNode.parentNode)).openDialog(),a.event.stopPropagation()}),t.filter(function(t){return t.getRendererList().length>1}).append("i").attr("class","fa fa-exchange").attr("title","Change Visualization").on("click",function(t){new x.a(t,a.select(this.parentNode.parentNode)).openDialog(),a.event.stopPropagation()}),t.filter(function(t){return t instanceof y.a}).append("i").attr("class","fa fa-external-link").attr("title","Edit Link Pattern").on("click",function(t){new N.a(t,a.select(this.parentNode.parentNode),i.options.idPrefix,[].concat(t.desc.templates||[],i.options.linkTemplates)).openDialog(),a.event.stopPropagation()}),t.filter(function(t){return t instanceof v.a}).append("i").attr("class","fa fa-gears").attr("title","Edit Combine Script").on("click",function(t){new L.a(t,a.select(this.parentNode.parentNode)).openDialog(),a.event.stopPropagation()}),t.filter(function(t){return e.options.filters.hasOwnProperty(t.desc.type)}).append("i").attr("class","fa fa-filter").attr("title","Filter").on("click",function(t){var n=a.event.target;new e.options.filters[t.desc.type](t,a.select(n.parentNode),"",r,i.options.idPrefix).openDialog(),a.event.stopPropagation()}),t.filter(function(t){return e.options.searchAble(t)}).append("i").attr("class","fa fa-search").attr("title","Search").on("click",function(t){new b.a(t,a.select(this.parentNode.parentNode),r).openDialog(),a.event.stopPropagation()}),t.filter(function(t){return t instanceof g.a}).append("i").attr("class","fa fa-tasks").attr("title","Edit Weights").on("click",function(t){new D.a(t,a.select(this.parentNode.parentNode)).openDialog(),a.event.stopPropagation()}),o.append("i").attr("class","fa").classed("fa-toggle-left",function(t){return!t.getCompressed()}).classed("fa-toggle-right",function(t){return t.getCompressed()}).attr("title","(Un)Collapse").on("click",function(t){t.setCompressed(!t.getCompressed()),a.select(this).classed("fa-toggle-left",!t.getCompressed()).classed("fa-toggle-right",t.getCompressed()),a.event.stopPropagation()}),t.filter(function(t){return n.i(p.a)(t)}).append("i").attr("class","fa").classed("fa-compress",function(t){return!t.getCollapsed()}).classed("fa-expand",function(t){return t.getCollapsed()}).attr("title","Compress/Expand").on("click",function(t){t.setCollapsed(!t.getCollapsed()),a.select(this).classed("fa-compress",!t.getCollapsed()).classed("fa-expand",t.getCollapsed()),a.event.stopPropagation()}),t.append("i").attr("class","fa fa-times").attr("title","Hide").on("click",function(t){t instanceof f.a?(r.removeRanking(t.findMyRanker()),0===r.getRankings().length&&r.pushRanking()):t.removeMe(),a.event.stopPropagation()})},t.prototype.updateFreeze=function(t){var e=this.options.freezeCols;this.$node.selectAll("div.header").style("z-index",function(t,n){return n<e?1:null}).style("transform",function(n,r){return r<e?"translate("+t+"px,0)":null})},t.prototype.renderColumns=function(t,e,i,o){var c=this;void 0===i&&(i=this.$node),void 0===o&&(o="header");var l=this,f=i.selectAll("div."+o).data(t,function(t){return t.id}),y=f.enter().append("div").attr("class",o).on("click",function(t){var e=a.event;c.options.manipulative&&!e.defaultPrevented&&e.currentTarget===e.target&&t.toggleMySorting()}),v=y.append("div").classed("lu-label",!0).on("click",function(t){var e=a.event;c.options.manipulative&&!e.defaultPrevented&&t.toggleMySorting()}).on("dragstart",function(t){var e=a.event;e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setData("text/plain",t.label),e.dataTransfer.setData("application/caleydo-lineup-column-ref",t.id);var r=JSON.stringify(c.data.toDescRef(t.desc));e.dataTransfer.setData("application/caleydo-lineup-column",r),n.i(h.a)(t)&&(e.dataTransfer.setData("application/caleydo-lineup-column-number",r),e.dataTransfer.setData("application/caleydo-lineup-column-number-ref",t.id))});v.append("i").attr("class","fa fa sort_indicator"),v.append("span").classed("lu-label",!0).attr({draggable:this.options.manipulative}),this.options.manipulative&&(y.append("div").classed("handle",!0).call(this.dragHandler).style("width",this.options.columnPadding+"px").call(this.dropHandler),y.append("div").classed("toolbar",!0).call(this.createToolbar.bind(this))),this.options.histograms&&y.append("div").classed("histogram",!0),f.style({width:function(t,n){return e[n].width+c.options.columnPadding+"px"},left:function(t,n){return e[n].offset+"px"},"background-color":function(t){return t.color}}),f.attr({class:function(t){return o+" "+(t.cssClass||"")+" "+(t.getCompressed()?"compressed":"")+" "+t.headerCssClass+" "+(c.options.autoRotateLabels?"rotateable":"")+" "+(t.isFiltered()?"filtered":"")},title:function(t){return r(t)},"data-id":function(t){return t.id}}),f.select("i.sort_indicator").attr("class",function(t){var e=t.findMyRanker();return e&&e.getSortCriteria().col===t?"sort_indicator fa fa-sort-"+(e.getSortCriteria().asc?"asc":"desc"):"sort_indicator fa"}),f.select("span.lu-label").text(function(t){return t.label});var m=function(t,e){if("application/caleydo-lineup-column-number-ref"in t){var n=t["application/caleydo-lineup-column-number-ref"],r=c.data.find(n);return e?r=c.data.clone(r):r&&r.removeMe(),r}var i=JSON.parse(t["application/caleydo-lineup-column-number"]);return c.data.create(c.data.fromDescRef(i))};f.filter(function(t){return n.i(p.a)(t)}).each(function(t){if(t.getCollapsed()||t.getCompressed())a.select(this).selectAll("div."+o+"_i").remove();else{var e=[];t.flatten(e,0,1,l.options.columnPadding);var n=e.map(function(t){return t.col});l.renderColumns(n,e,a.select(this),o+("_i"!==o.substr(o.length-2)?"_i":""))}}).select("div.lu-label").call(n.i(s.l)(["application/caleydo-lineup-column-number-ref","application/caleydo-lineup-column-number"],function(t,e,n){var r=m(t,n);return null!=e.push(r)})),f.filter(function(t){return t.parent instanceof u.a&&n.i(h.a)(t)&&!n.i(p.a)(t)}).select("div.lu-label").call(n.i(s.l)(["application/caleydo-lineup-column-number-ref","application/caleydo-lineup-column-number"],function(t,e,r){var i=m(t,r),o=e.findMyRanker(),a=o.indexOf(e),s=c.data.create(n.i(g.b)());return e.removeMe(),s.push(e),s.push(i),null!=o.insert(s,a)})),this.options.histograms&&(f.filter(function(t){return n.i(d.b)(t)}).each(function(t){var e=a.select(this).select("div.histogram"),n=l.histCache.get(t.id);n&&n.then(function(n){var r=e.selectAll("div.bar").data(n.hist);r.enter().append("div").classed("bar",!0);var i=a.scale.ordinal().domain(t.categories).rangeBands([0,100],.1),o=a.scale.linear().domain([0,n.maxBin]).range([0,100]);r.style({left:function(t){return i(t.cat)+"%"},width:function(t){return i.rangeBand()+"%"},top:function(t){return 100-o(t.y)+"%"},height:function(t){return o(t.y)+"%"},"background-color":function(e){return t.colorOf(e.cat)}}).attr({title:function(t){return t.cat+": "+t.y},"data-cat":function(t){return t.cat}}),r.exit().remove()})}),f.filter(function(t){return t instanceof h.b}).each(function(t){var e=a.select(this).select("div.histogram"),n=l.histCache.get(t.id);n&&n.then(function(t){var n=e.selectAll("div.bar").data(t.hist);n.enter().append("div").classed("bar",!0);var r=a.scale.ordinal().domain(a.range(t.hist.length).map(String)).rangeBands([0,100],.1),i=a.scale.linear().domain([0,t.maxBin]).range([0,100]);n.style({left:function(t,e){return r(String(e))+"%"},width:function(t,e){return r.rangeBand()+"%"},top:function(t){return 100-i(t.y)+"%"},height:function(t){return i(t.y)+"%"}}).attr({title:function(t,e){return"Bin "+e+": "+t.y},"data-x":function(t){return t.x}}),n.exit().remove();var o=e.select("div.mean");o.empty()&&(o=e.append("div").classed("mean",!0)),o.style("left",100*t.mean+"%")})})),f.exit().remove()},t}();e.a=A},function(t,e,n){"use strict";function r(t,e,n,r,s){switch(void 0===t&&(t="svg"),void 0===s&&(s={}),t){case"svg":return new i.a(e,n,r,s);case"html":return new o.a(e,n,r,s);case"canvas":return new a.a(e,n,r,s);default:return new i.a(e,n,r,s)}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(74),o=n(72),a=n(71),s=n(30);n.d(e,"HeaderRenderer",function(){return s.a}),n.d(e,"dummyRankingButtonHook",function(){return s.b});var c=n(73);n.d(e,"PoolRenderer",function(){return c.a}),e.createBodyRenderer=r},function(t,e){},function(t,e,n){"use strict";function r(t){return"string"==typeof t&&t.indexOf(".")>=0}function i(t,e){var n=function(t,e){return void 0===t?t:/\d+/.test(e)?t[+e]:t[e]};return t.split(".").reduce(n,e)}function o(t,e,n,o){var a=o.column;return r(a)?i(a,t):t[a]}var a=n(12),s=n(16),c=n(8),l=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=function(t){function e(e,n){void 0===e&&(e=[]),void 0===n&&(n={});var r=t.call(this,n)||this;return r.columns=e,r.rankingIndex=0,r.ranks=new Map,e.forEach(function(t){t.accessor=t.accessor||o,t.label=t.label||t.column}),r}return l(e,t),e.prototype.rankAccessor=function(t,e,n,r,i){return this.ranks[i.id].indexOf(e)+1},e.prototype.cloneRanking=function(t){var e=this,r=this.nextRankingId(),i=new s.a(r);return t?(this.ranks[r]=this.ranks[t.id],t.children.forEach(function(t){e.push(i,t.desc)})):i.push(this.create(n.i(a.createRankDesc)())),i},e.prototype.cleanUpRanking=function(t){delete this.ranks[t.id]},e.prototype.sort=function(t){var e=this;return this.sortImpl(t).then(function(n){return e.ranks[t.id]=n,n})},e.prototype.pushDesc=function(t){var e=t;e.accessor=e.accessor||o,e.label=t.label||e.column,this.columns.push(t),this.fire(c.a.EVENT_ADD_DESC,e)},e.prototype.getColumns=function(){return this.columns.slice()},e.prototype.findDesc=function(t){return this.columns.filter(function(e){return e.column===t})[0]},e.prototype.toDescRef=function(t){return t.column?t.type+"@"+t.column:t},e.prototype.fromDescRef=function(t){return"string"==typeof t?this.columns.filter(function(e){return e.type+"@"+e.column===t})[0]:t},e.prototype.restore=function(e){t.prototype.restore.call(this,e),this.rankingIndex=1+Math.max.apply(Math,this.getRankings().map(function(t){return+t.id.substring(4)}))},e.prototype.nextRankingId=function(){return"rank"+this.rankingIndex++},e}(c.a);e.a=u},function(t,e,n){"use strict";function r(t,e,n,r){if(0===t.length)return{min:NaN,max:NaN,mean:NaN,count:0,maxBin:0,hist:[]};var i=function(t,r){return n(t,e[r])},o=s.layout.histogram().value(i);r&&o.range(function(){return r});var a=s.extent(t,i),c=o(t);return{min:a[0],max:a[1],mean:s.mean(t,i),count:t.length,maxBin:s.max(c,function(t){return t.y}),hist:c}}function i(t,e,n,r){var i=new Map;r.forEach(function(t){return i.set(t,0)}),t.forEach(function(t,r){var o=n(t,e[r]);null!=o&&o.forEach(function(t){i.set(t,(i.get(t)||0)+1)})});var o=[];return i.forEach(function(t,e){return o.push({cat:e,y:t})}),{maxBin:Math.max.apply(Math,o.map(function(t){return t.y})),hist:o}}var o=n(2),a=n(1),s=n(0),c=(n.n(s),n(33)),l=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=function(t){function e(e,r,i){void 0===r&&(r=[]),void 0===i&&(i={});var o=t.call(this,r,i)||this;o._data=e,o.options={filterGlobally:!1},n.i(a.a)(o.options,i);var s=o;return o.reorderAll=function(){var t=this.source;s.getRankings().forEach(function(e){e!==t&&e.dirtyOrder()})},o}return l(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),e.prototype.setData=function(t){this._data=t,this.reorderAll()},e.prototype.clearData=function(){this.setData([])},e.prototype.appendData=function(t){(e=this._data).push.apply(e,t),this.reorderAll();var e},e.prototype.cloneRanking=function(e){var n=t.prototype.cloneRanking.call(this,e);return this.options.filterGlobally&&n.on(o.a.EVENT_FILTER_CHANGED+".reorderAll",this.reorderAll),n},e.prototype.cleanUpRanking=function(e){this.options.filterGlobally&&e.on(o.a.EVENT_FILTER_CHANGED+".reorderAll",null),t.prototype.cleanUpRanking.call(this,e)},e.prototype.sortImpl=function(t){if(0===this._data.length)return Promise.resolve([]);var e=this._data.map(function(t,e){return{row:t,i:e}});if(this.options.filterGlobally){var n=this.getRankings().filter(function(t){return t.isFiltered()});n.length>0&&(e=e.filter(function(t){return n.every(function(e){return e.filter(t.row,t.i)})}))}else t.isFiltered()&&(e=e.filter(function(e){return t.filter(e.row,e.i)}));return e.sort(function(e,n){return t.comparator(e.row,n.row,e.i,n.i)}),Promise.resolve(e.map(function(t){return t.i}))},e.prototype.viewRaw=function(t){var e=this;this._data.length;return t.map(function(t){return e._data[t]})},e.prototype.view=function(t){return Promise.resolve(this.viewRaw(t))},e.prototype.fetch=function(t){var e=this;this._data.length;return t.map(function(t){return t.map(function(t){return Promise.resolve({v:e._data[t],dataIndex:t})})})},e.prototype.stats=function(t){var e=this,n=null,o=function(){return null===n&&(n=e.viewRaw(t)),n};return{stats:function(e){return Promise.resolve(r(o(),t,e.getNumber.bind(e),[0,1]))},hist:function(e){return Promise.resolve(i(o(),t,e.getCategories.bind(e),e.categories))}}},e.prototype.mappingSample=function(t){var e=this,n=500,r=this._data.length;if(r<=n)return Promise.resolve(this._data.map(t.getRawValue.bind(t)));for(var i=[],o=0;o<n;++o){for(var a=Math.floor(Math.random()*(r-1));i.indexOf(a)>=0;)a=Math.floor(Math.random()*(r-1));i.push(a)}return Promise.resolve(i.map(function(n){return t.getRawValue(e.data[n],n)}))},e.prototype.searchAndJump=function(t,e){var n=this;t="string"==typeof t?t.toLowerCase():t;var r="string"==typeof t?function(e){return e.toLowerCase().indexOf(t)>=0}:t.test.bind(t),i=s.range(this._data.length).filter(function(t){return r(e.getLabel(n._data[t],t))});this.jumpToNearest(i)},e}(c.a);e.a=u},function(t,e,n){"use strict";var r=n(9),i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(e,n,r){return void 0===r&&(r="Filter"),t.call(this,e,n,r)||this}return i(e,t),e.prototype.openDialog=function(){function t(){var t=r.select('input[type="radio"][value="true"]').property("checked"),e=r.select('input[type="radio"][value="false"]').property("checked");i(!!t||!e&&null)}var e=this,n=this.column.getFilter(),r=this.makePopup('<label><input type="radio" name="boolean_check" value="null" '+(null===n?'checked="checked"':"")+'>No Filter</label><br>\n     <label><input type="radio" name="boolean_check" value="true" '+(n===!0?'checked="checked"':"")+'>True</label><br>\n     <label><input type="radio" name="boolean_check" value="false" '+(n===!1?'checked="checked"':"")+">False</label>\n    <br>"),i=function(t){e.markFiltered(null!==t),e.column.setFilter(t)};r.selectAll('input[type="radio"]').on("change",t),r.select(".cancel").on("click",function(){i(n),r.remove()}),r.select(".reset").on("click",function(){var t=null===n?"null":String(n);r.selectAll('input[type="radio"]').property("checked",function(){return this.value===t}),i(null)}),r.select(".ok").on("click",function(){t(),r.remove()})},e}(r.a);e.a=o},function(t,e,n){"use strict";var r=n(9),i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(e,n,r){return void 0===r&&(r="Filter"),t.call(this,e,n,r)||this}return i(e,t),e.prototype.openDialog=function(){function t(){u.select(".checkmark").html(function(t){return'<i class="fa fa-'+(t.isChecked?"check-":"")+'square-o"></i>'}),u.select(".datalabel").style("opacity",function(t){return t.isChecked?"1.0":".8"})}function e(){a.select(".selectAll").html(function(t){return'<i class="fa fa-'+(h?"check-":"")+'square-o"></i>'}),a.select("thead").on("click",function(){h=!h,l.forEach(function(t){return t.isChecked=h}),t(),e()})}var n=this,r=this.column.getFilter()||{filter:[],filterMissing:!1},i=r.filter||[],o=r.filterMissing,a=this.makePopup('<div class="selectionTable"><table><thead><th class="selectAll"></th><th>Category</th></thead><tbody></tbody></table></div>\n        <label><input class="lu_filter_missing" type="checkbox" '+(o?'checked="checked"':"")+">Filter Missing</label><br>"),s=this.column.categoryColors,c=this.column.categoryLabels,l=this.column.categories.map(function(t,e){return{cat:t,label:c[e],isChecked:0===i.length||i.indexOf(t)>=0,color:s[e]}}).sort(this.sortByName("label")),u=a.select("tbody").selectAll("tr").data(l),p=u.enter().append("tr");p.append("td").attr("class","checkmark"),p.append("td").attr("class","datalabel").text(function(t){return t.label}),p.on("click",function(e){e.isChecked=!e.isChecked,t()}),t();var h=!0;e();var d=function(t,e){var r=null===t&&e===!1;n.markFiltered(!r),n.column.setFilter(r?null:{filter:t,filterMissing:e})};a.select(".cancel").on("click",function(){d(i,o),a.remove()}),a.select(".reset").on("click",function(){l.forEach(function(t){return t.isChecked=!0}),t(),d(null,null)}),a.select(".ok").on("click",function(){var t=l.filter(function(t){return t.isChecked}).map(function(t){return t.cat});t.length===l.length&&(t=null),d(t,a.select('input[type="checkbox"].lu_filter_missing').property("checked")),a.remove()})},e}(r.a);e.a=o},function(t,e,n){"use strict";var r=n(9),i=n(0),o=(n.n(i),this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n,r){return void 0===r&&(r="Edit Categorical Mapping"),t.call(this,e,n,r)||this}return o(e,t),e.prototype.openDialog=function(){function t(){d.select(".checkmark").html(function(t){return'<i class="fa fa-'+(t.isChecked?"check-":"")+'square-o"></i>'}),d.select(".bar").transition().style("width",function(t){return s(t.range)+"px"}),d.select(".datalabel").style("opacity",function(t){return t.isChecked?"1.0":".8"})}function e(){c.select(".selectAll").html(function(t){return'<i class="fa fa-'+(g?"check-":"")+'square-o"></i>'}),c.select("thead").on("click",function(){g=!g,h.forEach(function(t){return t.isChecked=g}),t(),e()})}var n=this,r=this.column.getFilter()||{filter:[],filterMissing:!1},o=r.filter,a=r.filterMissing,s=i.scale.linear().domain([0,100]).range([0,120]),c=this.makePopup('<div class="selectionTable"><table><thead><th class="selectAll"></th><th colspan="2">Scale</th><th>Category</th></thead><tbody></tbody></table></div>\n        <label><input class="lu_filter_missing" type="checkbox" '+(a?'checked="checked"':"")+">Filter Missing</label><br>"),l=this.column.getScale().range,u=this.column.categoryColors,p=this.column.categoryLabels,h=this.column.categories.map(function(t,e){return{cat:t,label:p[e],isChecked:0===o.length||o.indexOf(t)>=0,range:100*l[e],color:u[e]}}).sort(this.sortByName("label")),d=c.select("tbody").selectAll("tr").data(h),f=d.enter().append("tr");f.append("td").attr("class","checkmark").on("click",function(e){e.isChecked=!e.isChecked,t()}),f.append("td").append("input").attr({type:"number",value:function(t){return t.range},min:0,max:100,size:5}).on("input",function(e){e.range=+this.value,t()}),f.append("td").append("div").attr("class","bar").style("background-color",function(t){return t.color}),f.append("td").attr("class","datalabel").text(function(t){return t.label}),t();var g=!0;e();var y=function(t,e){var r=null===t&&e===!1;n.markFiltered(!r),n.column.setFilter(r?null:{filter:t,filterMissing:e})};c.select(".cancel").on("click",function(){y(o,a),n.column.setMapping(l),c.remove()}),c.select(".reset").on("click",function(){h.forEach(function(t){t.isChecked=!0,t.range=50}),t(),y(null,null),n.column.setMapping(h.map(function(){return 1}))}),c.select(".ok").on("click",function(){var t=h.filter(function(t){return t.isChecked}).map(function(t){return t.cat});t.length===h.length&&(t=null),y(t,c.select('input[type="checkbox"].lu_filter_missing').property("checked")),n.column.setMapping(h.map(function(t){return t.range/100})),c.remove()})},e}(r.a);e.a=a},function(t,e,n){"use strict";var r=n(4),i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(e,n,r,i,o){void 0===i&&(i=[]),void 0===o&&(o="Edit Link ($ as Placeholder)");var a=t.call(this,n,o)||this;return a.column=e,a.idPrefix=r,a.templates=i,a}return i(e,t),e.prototype.openDialog=function(){var t='<input \n        type="text"\n        size="15"\n        value="'+this.column.getLink()+'"\n        required="required"\n        autofocus="autofocus"\n        '+(this.templates.length>0?'list="ui'+this.idPrefix+'lineupPatternList"':"")+"\n      ><br>";this.templates.length>0&&(t+='<datalist id="ui${idPrefix}lineupPatternList">'+this.templates.map(function(t){return'<option value="'+t+'">'})+"</datalist>");var e=this.makePopup(t),n=this;e.select(".ok").on("click",function(){var t=e.select('input[type="text"]').property("value");n.column.setLink(t),e.remove()}),e.select(".cancel").on("click",function(){e.remove()})},e}(r.a);e.a=o},function(t,e,n){"use strict";var r=n(9),i=n(5),o=n(1),a=n(0),s=(n.n(a),n(47)),c=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},l=function(t){function e(e,n,r,i,o){void 0===r&&(r="Change Mapping");var a=t.call(this,e,n,r)||this;return a.data=i,a.idPrefix=o,a}return c(e,t),e.prototype.openDialog=function(){var t=this,e=n.i(o.m)(this.attachment.node()),r=this.column.getOriginalMapping(),c=this.column.getFilter(),l=this.column.getMapping(),u=l.clone(),p=c,h=n.i(a.select)("body").append("div").attr({class:"lu-popup"}).style({left:e.left+"px",top:e.top+"px"}).html(this.dialogForm('<div class="mappingArea"></div>')),d=function(e,n){u=e,p=n,t.markFiltered(!e.eq(r)||c.min!==n.min||c.max!==n.min||c.filterMissing!==n.filterMissing),t.column.setMapping(e),t.column.setFilter(n)},f={idPrefix:this.idPrefix,callback:d,triggerCallback:"dragend"},g=this.data.mappingSample(this.column),y=new s.a(h.select(".mappingArea").node(),u,r,p,g,f);h.select(".ok").on("click",function(){d(y.scale,y.filter),h.remove()}),h.select(".cancel").on("click",function(){t.column.setMapping(l),t.markFiltered(!l.eq(r)),h.remove()}),h.select(".reset").on("click",function(){l=r,u=l.clone(),c=i.b.noFilter(),p=c,d(u,p),h.selectAll(".mappingArea *").remove(),y=new s.a(h.select(".mappingArea").node(),u,r,p,g,f)})},e}(r.a);e.a=l},function(t,e,n){"use strict";var r=n(4),i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(e,n,r){void 0===r&&(r="Rename Column");var i=t.call(this,n,r)||this;return i.column=e,i}return i(e,t),e.prototype.openDialog=function(){var t=this,e=this.makePopup('\n      <input type="text" size="15" value="'+this.column.label+'" required="required" autofocus="autofocus"><br>\n      <input type="color" size="15" value="'+this.column.color+'" required="required"><br>\n      <textarea rows="5">'+this.column.description+"</textarea><br>");e.select(".ok").on("click",function(){var n=e.select('input[type="text"]').property("value"),r=e.select('input[type="color"]').property("value"),i=e.select("textarea").property("value");t.column.setMetaData({label:n,color:r,description:i}),e.remove()}),e.select(".cancel").on("click",function(){e.remove()})},e}(r.a);e.a=o},function(t,e,n){"use strict";var r=n(4),i=n(0),o=(n.n(i),this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n,r){void 0===r&&(r="Change Visualization");var i=t.call(this,n,r)||this;return i.column=e,i}return o(e,t),e.prototype.openDialog=function(){var t=this,e=this.column.getRendererType(),n=this.column.getRendererList(),r=this.makeSortPopup(n.map(function(t){return'<input type="radio" name="renderertype" value='+t.type+"  "+(e===t.type?"checked":"")+"> "+t.label+"<br>"}).join("\n")),o=i.selectAll('input[name="renderertype"]');o.on("change",function(){var e=i.event.target,n=e.value;t.column.setRendererType(n)}),this.hidePopupOnClickOutside(r,o)},e}(r.a);e.a=a},function(t,e,n){"use strict";var r=n(4),i=n(17),o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(e,n,r){void 0===r&&(r="Edit Script");var i=t.call(this,n,r)||this;return i.column=e,i}return o(e,t),e.prototype.openDialog=function(){var t=this,e=this.column.getScript(),n=this.makePopup('Parameters: <code>values: number[], children: Column[]</code><br>\n      <textarea autofocus="true" rows="5" autofocus="autofocus" style="width: 95%;">'+this.column.getScript()+"</textarea><br>"),r=function(e){t.column.setScript(e)},o=function(){r(n.select("textarea").property("value"))};n.select(".cancel").on("click",function(){n.select("textarea").property("value",e),r(e),n.remove()}),n.select(".reset").on("click",function(){n.select("textarea").property("value",i.a.DEFAULT_SCRIPT),r(i.a.DEFAULT_SCRIPT)}),n.select(".ok").on("click",function(){o(),n.remove()})},e}(r.a);e.a=a},function(t,e,n){"use strict";var r=n(4),i=n(0),o=(n.n(i),this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n,r,i){void 0===i&&(i="Search");var o=t.call(this,n,i)||this;return o.column=e,o.provider=r,o}return o(e,t),e.prototype.openDialog=function(){var t=this,e=this.makePopup('<input type="text" size="15" value="" required="required" autofocus="autofocus"><br><label><input type="checkbox">RegExp</label><br>');e.select('input[type="text"]').on("input",function(){var n=i.event.target,r=n.value;if(r.length>=3){e.select('input[type="checkbox"]').property("checked")&&(r=new RegExp(r)),t.provider.searchAndJump(r,t.column)}});var n=function(){var n=e.select('input[type="text"]').property("value"),r=e.select('input[type="text"]').property("checked");n.length>0&&(r&&(n=new RegExp(n)),t.provider.searchAndJump(n,t.column)),e.remove()};e.select('input[type="checkbox"]').on("change",n),e.select(".ok").on("click",n),e.select(".cancel").on("click",function(){e.remove()})},e}(r.a);e.a=a},function(t,e,n){"use strict";var r=n(4),i=n(13),o=n(19),a=n(0),s=(n.n(a),this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e,n,r){void 0===r&&(r="Change Sort Criteria");var i=t.call(this,n,r)||this;return i.column=e,i}return s(e,t),e.prototype.openDialog=function(){var t=this,e=this.column.getSortMethod(),r=Object.keys(this.column instanceof o.a?o.b:i.b),s=this.makeSortPopup(r.map(function(t){return'<input type="radio" name="multivaluesort" value='+t+"  "+(e===t?"checked":"")+" > "+(t.slice(0,1).toUpperCase()+t.slice(1))+" <br>"}).join("\n")),c=n.i(a.selectAll)("input[name=multivaluesort]");c.on("change",function(){var e=a.event.target,n=e.value;t.column.setSortMethod(n)}),this.hidePopupOnClickOutside(s,c)},e}(r.a);e.a=c},function(t,e,n){"use strict";var r=n(6),i=n(9),o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(e,n,r){return void 0===r&&(r="Filter"),t.call(this,e,n,r)||this}return o(e,t),e.prototype.openDialog=function(){function t(t){var e=o.select('input[type="text"]').property("value");if(o.select('input[type="checkbox"].lu_filter_missing').property("checked")&&""===e&&(e=r.a.FILTER_MISSING),""===e)return void a(e);if(e.length>=3||t){o.select('input[type="checkbox"]:first-of-type').property("checked")&&e!==r.a.FILTER_MISSING&&(e=new RegExp(e)),a(e)}}var e=this,n=this.column.getFilter()||"",i=n===r.a.FILTER_MISSING;i&&(n="");var o=this.makePopup('<input type="text" placeholder="containing..." autofocus="true" size="15" value="'+(n instanceof RegExp?n.source:n)+'" autofocus="autofocus">\n    <br><label><input type="checkbox" '+(n instanceof RegExp?'checked="checked"':"")+'>RegExp</label><br><label><input class="lu_filter_missing" type="checkbox" '+(i?'checked="checked"':"")+">Filter Missing</label>\n    <br>"),a=function(t){e.markFiltered(t&&""!==t),e.column.setFilter(t)};o.selectAll('input[type="checkbox"]').on("change",t),o.select('input[type="text"]').on("input",t),o.select(".cancel").on("click",function(){o.select('input[type="text"]').property("value",n||""),o.select('input[type="checkbox"]:first-of-type').property("checked",n instanceof RegExp?"checked":null),o.select('input[type="checkbox"].lu_filter_missing').property("checked",i?"checked":null),a(n),o.remove()}),o.select(".reset").on("click",function(){o.select('input[type="text"]').property("value",""),o.selectAll('input[type="checkbox"]').property("checked",null),a(null)}),o.select(".ok").on("click",function(){t(!0),o.remove()})},e}(i.a);e.a=a},function(t,e,n){"use strict";var r=n(4),i=n(0),o=(n.n(i),this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n,r){void 0===r&&(r="Edit Weights");var i=t.call(this,n,r)||this;return i.column=e,i}return o(e,t),e.prototype.openDialog=function(){function t(){s.select(".bar").transition().style("width",function(t){return o(t.weight)+"px"})}var e=this,n=this.column.getWeights(),r=this.column.children.map(function(t,e){return{col:t,weight:100*n[e]}}),o=i.scale.linear().domain([0,100]).range([0,120]),a=this.makePopup("<table></table>"),s=a.select("table").selectAll("tr").data(r),c=s.enter().append("tr");c.append("td").append("input").attr({type:"number",value:function(t){return t.weight},min:0,max:100,size:5}).on("input",function(e){e.weight=+this.value,t()}),c.append("td").append("div").attr("class",function(t){return"bar "+t.col.cssClass}).style("background-color",function(t){return t.col.color}),c.append("td").text(function(t){return t.col.label}),t(),a.select(".cancel").on("click",function(){e.column.setWeights(n),a.remove()}),a.select(".reset").on("click",function(){r.forEach(function(t,e){return t.weight=100*n[e]}),s.select("input").property("value",function(t){return t.weight}),t()}),a.select(".ok").on("click",function(){e.column.setWeights(r.map(function(t){return t.weight})),a.remove()})},e}(r.a);e.a=a},function(t,e,n){"use strict";function r(t,e,n){return Math.max(Math.min(t,n),e)}function i(t){var e=new Set;t.forEach(function(t){return e.add(t)});var n=[];return e.forEach(function(t){return n.push(t)}),n}var o=n(0),a=(n.n(o),n(1)),s=n(5),c=function(){function t(t,e,r,i,s,c){this.parent=t,this.scale=e,this.original=r,this.oldFilter=i,this.dataPromise=s,this.options={idPrefix:"",width:370,height:225,padding_hor:7,padding_ver:7,filter_height:20,radius:5,callback:function(){},callbackThisArg:null,triggerCallback:"change"},n.i(a.a)(this.options,c),this.scale=e.clone(),this.build(n.i(o.select)(t))}return Object.defineProperty(t.prototype,"filter",{get:function(){return this.computeFilter()},enumerable:!0,configurable:!0}),t.prototype.build=function(t){function e(){m.attr({x1:function(t){return v(d.scale.apply(t))},x2:y}).style("visibility",function(t){var e=d.scale.domain;return t<e[0]||t>e[e.length-1]?"hidden":null})}function a(t){return o.behavior.drag().on("dragstart",function(){n.i(o.select)(this).classed("dragging",!0).attr("r",1.1*h.radius)}).on("drag",t).on("dragend",function(){n.i(o.select)(this).classed("dragging",!1).attr("r",h.radius),u(!0)})}function c(){function i(){E.sort(function(t,e){return t.r-e.r});var t=d.scale;t.domain=E.map(function(t){return t.r}),t.range=E.map(function(t){return t.n}),e()}function l(t){E.length<=2||(E.splice(t,1),i(),c())}function u(t){var e=r(t,0,f);E.push({n:v.invert(e),r:y.invert(e)}),i(),c()}if(d.scale instanceof s.d){var p=d.scale,m=p.domain,_=p.range;E=m.map(function(t,e){return{r:t,n:_[e]}}),t.selectAll("rect.adder").on("click",function(){u(n.i(o.mouse)(t.select("svg > g").node())[0])});var b=t.select("g.mappings").selectAll("g.mapping").data(E),T=b.enter().append("g").classed("mapping",!0).on("contextmenu",function(t,e){o.event.preventDefault(),o.event.stopPropagation(),l(e)});T.append("line").attr({y1:0,y2:g}).call(a(function(t){var e=o.event.dx,a=r(v(t.n)+e,0,f),s=r(y(t.r)+e,0,f);t.n=v.invert(a),t.r=y.invert(s),n.i(o.select)(this).attr("x1",a).attr("x2",s),n.i(o.select)(this.parentElement).select("circle.normalized").attr("cx",a),n.i(o.select)(this.parentElement).select("circle.raw").attr("cx",s),i()})),T.append("circle").classed("normalized",!0).attr("r",h.radius).call(a(function(t){var e=r(o.event.x,0,f);t.n=v.invert(e),n.i(o.select)(this).attr("cx",e),n.i(o.select)(this.parentElement).select("line").attr("x1",e),i()})),T.append("circle").classed("raw",!0).attr("r",h.radius).attr("cy",g).call(a(function(t){var e=r(o.event.x,0,f);t.r=y.invert(e),n.i(o.select)(this).attr("cx",e),n.i(o.select)(this.parentElement).select("line").attr("x2",e),i()})),b.select("line").attr({x1:function(t){return v(t.n)},x2:function(t){return y(t.r)}}),b.select("circle.normalized").attr("cx",function(t){return v(t.n)}),b.select("circle.raw").attr("cx",function(t){return y(t.r)}),b.exit().remove()}}function l(){if(!(d.scale instanceof s.e))return void t.select("div.script").style("display","none");t.select("div.script").style("display",null);var n=d.scale,r=t.select("textarea").text(n.code);t.select("div.script").select("button").on("click",function(){n.code=r.property("value"),e(),u()})}function u(t){void 0===t&&(t=!1),t&&"dragend"!==h.triggerCallback||h.callback.call(h.callbackThisArg,d.scale.clone(),d.filter)}function p(){var n=y.domain();t.select("input.raw_min").property("value",n[0]),t.select("input.raw_max").property("value",n[1]),e(),c()}var h=this.options,d=this;t=t.append("div").classed("lugui-me",!0);var f=h.width-2*h.padding_hor,g=h.height-2*h.padding_ver-h.filter_height;t.node().innerHTML='<form onsubmit="return false">\n      <div style="text-align: center"><label for="me'+h.idPrefix+'mapping_type">Mapping Type: <select id="me'+h.idPrefix+'mapping_type">\n        <option value="linear">Linear</option>\n        <option value="linear_invert">Invert</option>\n        <option value="linear_abs">Absolute</option>\n        <option value="log">Log</option>\n        <option value="pow1.1">Pow 1.1</option>\n        <option value="pow2">Pow 2</option>\n        <option value="pow3">Pow 3</option>\n        <option value="sqrt">Sqrt</option>\n        <option value="script">Custom Script</option>\n      </select>\n      </label></div>\n      <div class="mapping_area">\n        <div>\n          <span>0</span>\n          <input type="text" class="raw_min" id="me'+h.idPrefix+'raw_min" value="0"><label for="me'+h.idPrefix+'raw_min">Min</label>\n        </div>\n        <svg width="'+h.width+'" height="'+h.height+'">\n          <line y1="'+h.padding_ver+'" y2="'+h.padding_ver+'" x1="'+h.padding_hor+'" x2="'+(f+h.padding_hor)+'" stroke="black"></line>\n          <rect class="adder" x="'+h.padding_hor+'" width="'+f+'" height="10"></rect>\n          <line y1="'+(h.height-h.filter_height-5)+'" y2="'+(h.height-h.filter_height-5)+'" x1="'+h.padding_hor+'" x2="'+(f+h.padding_hor)+'" stroke="black"></line>\n          <rect class="adder" x="'+h.padding_hor+'" width="'+f+'" height="10" y="'+(h.height-h.filter_height-10)+'"></rect>\n          <g transform="translate('+h.padding_hor+","+h.padding_ver+')">\n            <g class="samples">\n      \n            </g>\n            <g class="mappings">\n      \n            </g>\n            <g class="filter" transform="translate(0,'+(h.height-h.filter_height-10)+')">\n               <g class="left_filter" transform="translate(0,0)">\n                  <path d="M0,0L4,7L-4,7z"></path>\n                  <rect x="-4" y="7" width="40" height="13" rx="2" ry="2"></rect>\n                  <text y="10" x="4" text-anchor="start">&gt; 0</text>\n              </g>\n              <g class="right_filter" transform="translate('+f+',0)">\n                  <path d="M0,0L4,7L-4,7z"></path>\n                  <rect x="-36" y="7" width="40" height="13" rx="2" ry="2"></rect>\n                  <text y="10" x="3" text-anchor="end">&lt; 1</text>\n              </g>\n            </g>\n          </g>\n        </svg>\n        <div>\n          <span>1</span>\n          <input type="text" class="raw_max" id="me'+h.idPrefix+'raw_max" value="1"><label for="me'+h.idPrefix+'raw_max">Max</label>\n        </div>\n      </div>\n      <div>\n         Extras: <label><input type="checkbox" id="me'+h.idPrefix+'filterMissing" '+(this.oldFilter.filterMissing?'checked="checked"':"")+'>Filter Missing Values</label>\n      </div>\n      <div class="script" style="/* display: none; */">\n        <label for="me'+h.idPrefix+'script_code">Custom Script</label><button>Apply</button>\n        <textarea id="me'+h.idPrefix+'script_code">\n        </textarea>\n      </div>\n    </form>';var y=o.scale.linear().domain([Math.min(this.scale.domain[0],this.original.domain[0]),Math.max(this.scale.domain[this.scale.domain.length-1],this.original.domain[this.original.domain.length-1])]).range([0,f]),v=o.scale.linear().domain([0,1]).range([0,f]);t.select("input.raw_min").property("value",y.domain()[0]).on("blur",function(){var t=y.domain();t[0]=parseFloat(this.value),y.domain(t);var e=d.scale.domain;e[0]=t[0],d.scale.domain=e,p(),u()}),t.select("input.raw_max").property("value",y.domain()[1]).on("blur",function(){var t=y.domain();t[1]=parseFloat(this.value),y.domain(t);var e=d.scale.domain;e[e.length-1]=t[1],d.scale.domain=e,p(),u()}),t.select('input[type="checkbox"]').on("change",function(){u()});var m=t.select("g.samples").selectAll("line").data([]);this.dataPromise.then(function(t){t=i(t),m=m.data(t),m.enter().append("line").attr({x1:function(t){return v(d.scale.apply(t))},y1:0,x2:y,y2:g}).style("visibility",function(t){var e=d.scale.domain;return t<e[0]||t>e[e.length-1]?"hidden":null})});var E=[];c(),l();var _=isFinite(this.oldFilter.min)?y(this.oldFilter.min):0,b=isFinite(this.oldFilter.max)?y(this.oldFilter.max):f,T=function(t,e){return isFinite(t)?(0===e?">":"<")+t.toFixed(1):"any"};t.selectAll("g.left_filter, g.right_filter").data([this.oldFilter.min,this.oldFilter.max]).attr("transform",function(t,e){return"translate("+(0===e?_:b)+",0)"}).call(a(function(t,e){var i=r(o.event.x,0,f),a=y.invert(i),s=i<=0&&0===e?-(1/0):i>=f&&1===e?1/0:a;n.i(o.select)(this).datum(s).attr("transform","translate("+i+",0)").select("text").text(T(s,e))})).select("text").text(T),this.computeFilter=function(){return{min:parseFloat(t.select("g.left_filter").datum()),max:parseFloat(t.select("g.right_filter").datum()),filterMissing:t.select('input[type="checkbox"]').property("checked")}},p(),t.select("select").on("change",function(){var t=this.value;if("linear_invert"===t)d.scale=new s.d(y.domain(),"linear",[1,0]);else if("linear_abs"===t){var n=y.domain();d.scale=new s.d([n[0],(n[1]-n[0])/2,n[1]],"linear",[1,0,1])}else d.scale="script"===t?new s.e(y.domain()):new s.d(y.domain(),t);e(),c(),l(),u()}).property("selectedIndex",function(){var t="script";return d.scale instanceof s.d&&(t=d.scale.scaleType),["linear","linear_invert","linear_abs","log","pow1.1","pow2","pow3","sqrt","script"].indexOf(t)})},t}();e.a=c},function(t,e,n){"use strict";var r=n(2),i=n(6),o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.annotations=new Map,r}return o(e,t),e.prototype.createEventList=function(){return t.prototype.createEventList.call(this).concat([e.EVENT_VALUE_CHANGED])},e.prototype.getValue=function(e,n){return this.annotations.has(n)?this.annotations.get(n):t.prototype.getValue.call(this,e,n)},e.prototype.dump=function(e){var n=t.prototype.dump.call(this,e);return n.annotations={},this.annotations.forEach(function(t,e){n.annotations[e]=t}),n},e.prototype.restore=function(e,n){var r=this;t.prototype.restore.call(this,e,n),e.annotations&&Object.keys(e.annotations).forEach(function(t){r.annotations.set(Number(t),e.annotations[t])})},e.prototype.setValue=function(t,n,i){var o=this.getValue(t,n);return o===i||(""===i||null==i?this.annotations.delete(n):this.annotations.set(n,i),this.fire([e.EVENT_VALUE_CHANGED,r.a.EVENT_DIRTY_VALUES,r.a.EVENT_DIRTY],n,o,i),!0)},e}(i.a);e.a=a,a.EVENT_VALUE_CHANGED="valueChanged"},function(t,e,n){"use strict";var r=n(0),i=(n.n(r),n(2)),o=n(3),a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.currentFilter=null,r.trueMarker="X",r.falseMarker="",r.setWidthImpl(30),r.trueMarker=n.trueMarker||r.trueMarker,r.falseMarker=n.falseMarker||r.falseMarker,r}return a(e,t),e.prototype.getValue=function(e,n){var r=t.prototype.getValue.call(this,e,n);return void 0!==r&&null!=r&&(r===!0||"true"===r||"yes"===r||"x"===r)},e.prototype.getLabel=function(t,e){return this.getValue(t,e)?this.trueMarker:this.falseMarker},e.prototype.dump=function(e){var n=t.prototype.dump.call(this,e);return null!==this.currentFilter&&(n.filter=this.currentFilter),n},e.prototype.restore=function(e,n){t.prototype.restore.call(this,e,n),void 0!==e.filter&&(this.currentFilter=e.filter)},e.prototype.isFiltered=function(){return null!==this.currentFilter},e.prototype.filter=function(t,e){return!this.isFiltered()||this.getValue(t,e)===this.currentFilter},e.prototype.getFilter=function(){return this.currentFilter},e.prototype.setFilter=function(t){this.currentFilter!==t&&this.fire([i.a.EVENT_FILTER_CHANGED,i.a.EVENT_DIRTY_VALUES,i.a.EVENT_DIRTY],this.currentFilter,this.currentFilter=t)},e.prototype.compare=function(t,e,i,o){return n.i(r.ascending)(this.getValue(t,i),this.getValue(e,o))},e}(o.a);e.a=s},function(t,e,n){"use strict";var r=n(0),i=(n.n(r),n(2)),o=n(3),a=n(14),s=n(5),c=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},l=function(t){function e(e,n){var i=t.call(this,e,n)||this;if(i.colors=r.scale.category10(),i.catLabels=new Map,i.scale=r.scale.ordinal().rangeRoundPoints([0,1]),i.currentFilter=null,i.separator=";",i.combiner=r.max,i.separator=n.separator||i.separator,a.a.prototype.initCategories.call(i,n),i.scale.domain(i.colors.domain()),n.categories){var o=n.categories.map(function(t){return"string"!=typeof t&&"number"==typeof t.value?t.value:.5});i.scale.range(o)}return i}return c(e,t),e.prototype.createEventList=function(){return t.prototype.createEventList.call(this).concat([e.EVENT_MAPPING_CHANGED])},Object.defineProperty(e.prototype,"categories",{get:function(){return this.colors.domain().slice()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categoryColors",{get:function(){return this.colors.range().slice()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categoryLabels",{get:function(){var t=this;return null===this.catLabels||0===this.catLabels.size?this.categories:this.categories.map(function(e){return t.catLabels.has(e)?t.catLabels.get(e):e})},enumerable:!0,configurable:!0}),e.prototype.colorOf=function(t){return this.colors(t)},e.prototype.getLabel=function(t,e){return a.a.prototype.getLabel.call(this,t,e)},e.prototype.getFirstLabel=function(t,e){return a.a.prototype.getFirstLabel.call(this,t,e)},e.prototype.getLabels=function(t,e){return a.a.prototype.getLabels.call(this,t,e)},e.prototype.getValue=function(t,e){var n=this.getValues(t,e);return n.length>0?this.combiner(n):0},e.prototype.getValues=function(t,e){return a.a.prototype.getValues.call(this,t,e).map(this.scale)},e.prototype.getCategories=function(t,e){return a.a.prototype.getValues.call(this,t,e)},e.prototype.getNumber=function(t,e){return this.getValue(t,e)},e.prototype.getColor=function(t,e){var n=this.getValues(t,e),i=this.getColors(t,e);return this.combiner===r.max?i.slice(1).reduce(function(t,e,r){return n[r+1]>t.v?{c:e,v:n[r+1]}:t},{c:i[0],v:n[0]}).c:this.combiner===r.min?i.slice(1).reduce(function(t,e,r){return n[r+1]<t.v?{c:e,v:n[r+1]}:t},{c:i[0],v:n[0]}).c:i[0]||null},e.prototype.getColors=function(t,e){return a.a.prototype.getColors.call(this,t,e)},e.prototype.dump=function(t){var e=a.a.prototype.dump.call(this,t);return e.scale={domain:this.scale.domain(),range:this.scale.range(),separator:this.separator},e},e.prototype.restore=function(t,e){a.a.prototype.restore.call(this,t,e),t.scale&&this.scale.domain(t.scale.domain).range(t.scale.range),this.separator=t.separator||this.separator},e.prototype.getScale=function(){return{domain:this.scale.domain(),range:this.scale.range()}},e.prototype.getMapping=function(){return this.scale.range().slice()},e.prototype.setMapping=function(t){var n=this.getScale();this.scale.range(t),this.fire([e.EVENT_MAPPING_CHANGED,i.a.EVENT_DIRTY_VALUES,i.a.EVENT_DIRTY],n,this.getScale())},e.prototype.isFiltered=function(){return null!=this.currentFilter},e.prototype.filter=function(t,e){return a.a.prototype.filter.call(this,t,e)},e.prototype.getFilter=function(){return this.currentFilter},e.prototype.setFilter=function(t){return a.a.prototype.setFilter.call(this,t)},e.prototype.compare=function(t,e,n,r){return s.b.prototype.compare.call(this,t,e,n,r)},e.prototype.getRendererType=function(){return s.b.prototype.getRendererType.call(this)},e}(o.a);e.a=l,l.EVENT_MAPPING_CHANGED=s.b.EVENT_MAPPING_CHANGED},function(t,e,n){"use strict";var r=n(2),i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e.prototype.getLabel=function(t){return""},e.prototype.getValue=function(t){return""},e.prototype.compare=function(t,e){return 0},e}(r.a);e.a=o},function(t,e,n){"use strict";var r=n(10),i=n(2),o=n(18),a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.collapsed=!1;var i=r;return r.adaptChange=function(t,e){i.adaptWidthChange(t,e)},r}return a(e,t),e.prototype.createEventList=function(){return t.prototype.createEventList.call(this).concat([e.EVENT_COLLAPSE_CHANGED])},e.prototype.setCollapsed=function(t){this.collapsed!==t&&this.fire([o.a.EVENT_COLLAPSE_CHANGED,i.a.EVENT_DIRTY_HEADER,i.a.EVENT_DIRTY_VALUES,i.a.EVENT_DIRTY],this.collapsed,this.collapsed=t)},e.prototype.getCollapsed=function(){return this.collapsed},e.prototype.dump=function(e){var n=t.prototype.dump.call(this,e);return n.collapsed=this.collapsed,n},e.prototype.restore=function(e,n){this.collapsed=e.collapsed===!0,t.prototype.restore.call(this,e,n)},e.prototype.flatten=function(t,e,n,r){return void 0===n&&(n=0),void 0===r&&(r=0),o.a.prototype.flatten.call(this,t,e,n,r)},e.prototype.insert=function(e,n){return e.on(i.a.EVENT_WIDTH_CHANGED+".stack",this.adaptChange),t.prototype.setWidth.call(this,0===this.length?e.getWidth():this.getWidth()+e.getWidth()),t.prototype.insert.call(this,e,n)},e.prototype.adaptWidthChange=function(e,n){e!==n&&t.prototype.setWidth.call(this,this.getWidth()+(n-e))},e.prototype.removeImpl=function(e){return e.on(i.a.EVENT_WIDTH_CHANGED+".stack",null),t.prototype.setWidth.call(this,1===this.length?100:this.getWidth()-e.getWidth()),t.prototype.removeImpl.call(this,e)},e.prototype.setWidth=function(e){var n=this.length/this.getWidth();this._children.forEach(function(t){t.setWidthImpl(t.getWidth()*n)}),t.prototype.setWidth.call(this,e)},e.prototype.getrendererType=function(){return this.getCollapsed()?e.EVENT_COLLAPSE_CHANGED:t.prototype.getRendererType.call(this)},e}(r.b);e.a=s,s.EVENT_COLLAPSE_CHANGED=o.a.EVENT_COLLAPSE_CHANGED},function(t,e,n){"use strict";var r=n(3),i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.dataLength=n.dataLength,r}return i(e,t),e.prototype.compare=function(t,e,n,r){var i=this.getBinaryValue(t,n),o=this.getBinaryValue(e,r);return null===i?null===o?0:1:null===o?-1:i.filter(function(t){return t}).length-o.filter(function(t){return t}).length},e.prototype.cellDimension=function(){return this.getWidth()/this.dataLength},e.prototype.getBinaryValue=function(t,n){return this.getValue(t,n).map(function(t){return t===e.IN_GROUP})},e.prototype.getNumber=function(t,e){return this.getValue(t,e)},e}(r.a);e.a=o,o.IN_GROUP=1},function(t,e,n){"use strict";var r=n(1),i=function(){function t(){}return t.prototype.createSVG=function(t,e){var i=e.option("actions",[]);return{template:"<text class='actions hoverOnly fa'>"+i.map(function(t){return"<tspan>"+t.icon+"</tspan>"}).join("")+"</text>",update:function(t,e){n.i(r.j)(t,"tspan",function(t,n){t.onclick=function(t){t.preventDefault(),t.stopPropagation(),i[n].action(e.v,e.dataIndex)}})}}},t.prototype.createHTML=function(t,e){var i=e.option("actions",[]);return{template:"<div class='actions hoverOnly'>"+i.map(function(t){return"<span title='"+t.name+"' class='fa'>"+t.icon+"</span>"}).join("")+"</div>",update:function(t,e){n.i(r.j)(t,"span",function(t,n){t.onclick=function(t){t.preventDefault(),t.stopPropagation(),i[n].action(e.v,e.dataIndex)}})}}},t.prototype.createCanvas=function(t,e){var i=e.option("actions",[]);return function(o,a,s,c,l){if(e.hovered(a.dataIndex)){var u=n.i(r.k)(e.idPrefix+t.id,c,l);u.style.width=t.getWidth()+"px",u.classList.add("actions"),u.innerHTML=i.map(function(t){return"<span title='"+t.name+"' class='fa'>"+t.icon+"</span>"}).join(""),n.i(r.j)(u,"span",function(t,e){t.onclick=function(t){t.preventDefault(),t.stopPropagation(),i[e].action(a.v,a.dataIndex)}})}}},t}();e.a=i},function(t,e,n){"use strict";var r=n(1),i=function(){function t(){}return t.prototype.createSVG=function(t,e){return{template:"<g class='annotations'>\n        <text class='notHoverOnly text' clip-path='url(#cp"+e.idPrefix+"clipCol"+t.id+")'></text>\n        <foreignObject class='hoverOnly' x='-2' y='-2'>\n          <input type='text'>\n        </foreignObject>\n       </g>",update:function(n,r,i){var o=n.querySelector("foreignObject *");o.onchange=function(){t.setValue(r.v,r.dataIndex,o.value)},o.onclick=function(t){t.stopPropagation()},o.style.width=t.getWidth()+"px",o.value=t.getLabel(r.v,r.dataIndex),n.querySelector("text").textContent=t.getLabel(r.v,r.dataIndex);var a=n.querySelector("foreignObject");a.setAttribute("width",String(t.getWidth())),a.setAttribute("height",String(e.rowHeight(i)))}}},t.prototype.createHTML=function(t){return{template:"<div class='annotations text'>\n        <input type='text' class='hoverOnly'>\n        <span class='text notHoverOnly'></span>\n       </div>",update:function(e,n){var r=e.querySelector("input");r.onchange=function(){t.setValue(n.v,n.dataIndex,r.value)},r.onclick=function(t){t.stopPropagation()},e.style.width=r.style.width=t.getWidth()+"px",r.value=t.getLabel(n.v,n.dataIndex),e.querySelector("span").textContent=t.getLabel(n.v,n.dataIndex)}}},t.prototype.createCanvas=function(t,e){return function(i,o,a,s,c){if(e.hovered(o.dataIndex)){var l=n.i(r.k)(e.idPrefix+t.id,s,c);l.style.width=t.getWidth()+"px",l.innerHTML="<input type='text' value='"+t.getValue(o.v,o.dataIndex)+"' style='width:"+t.getWidth()+"px'>";var u=l.childNodes[0];u.onchange=function(){t.setValue(o.v,o.dataIndex,u.value)},u.onclick=function(t){t.stopPropagation()}}else n.i(r.g)(i,t.getLabel(o.v,o.dataIndex),0,0,t.getWidth(),e.textHints)}},t}();e.a=i},function(t,e,n){"use strict";var r=n(1),i=function(){function t(t,e){void 0===t&&(t=!1),void 0===e&&(e=function(t,e,n){return n.color}),this.renderValue=t,this.colorOf=e}return t.prototype.createSVG=function(t,e){var i=this,o=e.option("rowBarTopPadding",e.option("rowBarPadding",1)),a=e.option("rowBarBottomPadding",e.option("rowBarPadding",1));return{template:"<g class='bar'>\n          <rect class='"+t.cssClass+"' y='"+o+"' style='fill: "+t.color+"'>\n            <title></title>\n          </rect>\n          <text class='number "+(this.renderValue?"":"hoverOnly")+"' clip-path='url(#cp"+e.idPrefix+"clipCol"+t.id+")'></text>\n        </g>",update:function(s,c,l){s.querySelector("rect title").textContent=t.getLabel(c.v,c.dataIndex);var u=t.getWidth()*t.getValue(c.v,c.dataIndex);n.i(r.h)(s.querySelector("rect"),{y:o,width:isNaN(u)?0:u,height:e.rowHeight(l)-(o+a)},{fill:i.colorOf(c.v,l,t)}),n.i(r.h)(s.querySelector("text"),{}).textContent=t.getLabel(c.v,c.dataIndex)}}},t.prototype.createHTML=function(t,e){var i=this,o=e.option("rowBarTopPadding",e.option("rowBarPadding",1)),a=e.option("rowBarBottomPadding",e.option("rowBarPadding",1));return{template:"<div class='bar' style='top:"+o+"px; background-color: "+t.color+"'>\n          <span class='number "+(this.renderValue?"":"hoverOnly")+"'></span>\n        </div>",update:function(s,c,l){var u=t.getWidth()*t.getValue(c.v,c.dataIndex);n.i(r.h)(s,{title:t.getLabel(c.v,c.dataIndex)},{width:(isNaN(u)?0:u)+"px",height:e.rowHeight(l)-(o+a)+"px",top:o+"px","background-color":i.colorOf(c.v,l,t)}),s.querySelector("span").textContent=t.getLabel(c.v,c.dataIndex)}}},t.prototype.createCanvas=function(t,e){var i=this,o=e.option("rowBarTopPadding",e.option("rowBarPadding",1)),a=e.option("rowBarBottomPadding",e.option("rowBarPadding",1));return function(s,c,l){s.fillStyle=i.colorOf(c.v,l,t);var u=t.getWidth()*t.getValue(c.v,c.dataIndex);s.fillRect(0,o,isNaN(u)?0:u,e.rowHeight(l)-(o+a)),(i.renderValue||e.hovered(c.dataIndex)||e.selected(c.dataIndex))&&(s.fillStyle=e.option("style.text","black"),n.i(r.g)(s,t.getLabel(c.v,c.dataIndex),1,0,t.getWidth()-1,e.textHints))}},t}();e.a=i},function(t,e,n){"use strict";var r=n(1),i=n(0),o=(n.n(i),function(){function t(){}return t.prototype.createSVG=function(t,e){var o=t.getSortMethod(),a=2.5*e.option("rowBarPadding",1),s=t.getDomain(),c=i.scale.linear().domain(s).range([0,t.getWidth()]),l=t.findMyRanker().getSortCriteria().col===t;return{template:"<g class='boxplotcell'>\n            <rect class='boxplotrect' y='"+a+"'></rect>\n            <path class='boxplotallpath'></path>\n            <path class='boxplotsortpath' style='display: none'></path>\n        </g>",update:function(i,s,u){var p=t.getBoxPlotData(s.v,s.dataIndex),h=e.rowHeight(u),d={min:c(p.min),median:c(p.median),q1:c(p.q1),q3:c(p.q3),max:c(p.max)};n.i(r.h)(i.querySelector("rect"),{x:d.q1,width:d.q3-d.q1,height:h-2*a});var f=h-a,g=(h-a)/2,y="M"+d.min+","+g+"L"+d.q1+","+g+"M"+d.min+","+a+"L"+d.min+","+f+"M"+d.median+","+a+"L"+d.median+","+f+"M"+d.q3+","+g+"L"+d.max+","+g+"M"+d.max+","+a+"L"+d.max+","+f;n.i(r.h)(i.querySelector("path.boxplotallpath"),{d:y}),n.i(r.h)(i.querySelector("path.boxplotsortpath"),{d:"M"+d[o]+","+a+"L"+d[o]+","+f},{display:l?null:"none"})}}},t.prototype.createCanvas=function(t,e){var r=t.getSortMethod(),o=2.5*e.option("rowBarPadding",1),a=t.getDomain(),s=i.scale.linear().domain([n.i(i.min)(a),n.i(i.max)(a)]).range([0,t.getWidth()]),c=t.findMyRanker().getSortCriteria().col===t;return function(n,i,a){var l=e.rowHeight(a),u=t.getBoxPlotData(i.v,i.dataIndex),p={min:s(u.min),median:s(u.median),q1:s(u.q1),q3:s(u.q3),max:s(u.max)},h=p.min,d=p.max,f=p.median,g=p.q3,y=p.q1;n.fillStyle="#e0e0e0",n.strokeStyle="black",n.beginPath(),n.rect(y,o,g-y,l-2*o),n.fill(),n.stroke();var v=l-o,m=(l-o)/2;n.strokeStyle="black",n.fillStyle="#e0e0e0",n.beginPath(),n.moveTo(h,m),n.lineTo(y,m),n.moveTo(h,o),n.lineTo(h,v),n.moveTo(f,o),n.lineTo(f,v),n.moveTo(g,m),n.lineTo(d,m),n.moveTo(d,o),n.lineTo(d,v),n.stroke(),n.fill(),c&&(n.strokeStyle="red",n.fillStyle="#ff0700",n.beginPath(),n.moveTo(p[r],o),n.lineTo(p[r],v),n.stroke(),n.fill())}},t}());e.a=o},function(t,e,n){"use strict";var r=n(1),i=function(){function t(t){void 0===t&&(t="cat"),this.textClass=t,this.textClass=t}return t.prototype.createSVG=function(t,e){var i=e.option("rowBarPadding",1);return{template:"<g class='"+this.textClass+"'>\n        <text clip-path='url(#cp"+e.idPrefix+"clipCol"+t.id+")'></text>\n        <rect y='"+i+"'></rect>\n      </g>",update:function(o,a,s){var c=Math.min(.3*t.getWidth(),Math.max(e.rowHeight(s)-2*i,0));n.i(r.h)(o.querySelector("rect"),{width:c,height:c},{fill:t.getColor(a.v,a.dataIndex)}),n.i(r.h)(o.querySelector("text"),{x:c+2*i}).textContent=t.getLabel(a.v,a.dataIndex)}}},t.prototype.createHTML=function(t,e){var i=e.option("rowBarPadding",1);return{template:"<div class='"+this.textClass+"'>\n        <div></div>\n        <span></span>\n      </div>",update:function(o,a,s){var c=Math.min(.3*t.getWidth(),Math.max(e.rowHeight(s)-2*i,0));n.i(r.h)(o,{},{width:t.getWidth()+"px"}),n.i(r.h)(o.querySelector("div"),{},{width:c+"px",height:c+"px","background-color":t.getColor(a.v,a.dataIndex)}),n.i(r.h)(o.querySelector("span"),{}).textContent=t.getLabel(a.v,a.dataIndex)}}},t.prototype.createCanvas=function(t,e){var i=e.option("rowBarPadding",1);return function(o,a,s){var c=Math.min(.3*t.getWidth(),Math.max(e.rowHeight(s)-2*i,0));o.fillStyle=t.getColor(a.v,a.dataIndex),o.fillRect(0,0,c,c),o.fillStyle=e.option("style.text","black"),n.i(r.g)(o,t.getLabel(a.v,a.dataIndex),c+2,0,t.getWidth()-c-2,e.textHints)}},t}();e.a=i},function(t,e,n){"use strict";var r=n(1),i=function(){function t(t,e){void 0===t&&(t=!1),void 0===e&&(e=function(t,e,n){return n.color}),this.renderValue=t,this.colorOf=e,this.renderValue=t}return t.prototype.createSVG=function(t,e){e.option("rowBarPadding",1);return{template:"<g class='bar'>\n          <circle class='"+t.cssClass+"' style='fill: "+t.color+"'>\n            <title></title>\n          </circle>\n          <text class='number "+(this.renderValue?"":"hoverOnly")+"' clip-path='url(#cp"+e.idPrefix+"clipCol"+t.id+")'></text>\n        </g>",update:function(i,o,a){var s=t.getValue(o.v,o.dataIndex);n.i(r.h)(i.querySelector("circle"),{cy:e.rowHeight(a)/2,cx:t.getWidth()/2,r:e.rowHeight(a)/2*s}),n.i(r.h)(i.querySelector("text"),{}).textContent=s}}},t.prototype.createCanvas=function(t,e){var i=this;return function(o,a,s){var c=e.rowHeight(s)/2,l=t.getWidth()/2;o.fillStyle=i.colorOf(a.v,s,t),o.strokeStyle=i.colorOf(a.v,s,t),o.beginPath(),o.arc(l,c,e.rowHeight(s)/2*t.getValue(a.v,a.dataIndex),0,2*Math.PI),o.fill(),o.stroke(),(i.renderValue||e.hovered(a.dataIndex)||e.selected(a.dataIndex))&&(o.fillStyle=e.option("style.text","black"),n.i(r.g)(o,t.getLabel(a.v,a.dataIndex),1,0,t.getWidth()-1,e.textHints))}},t}();e.a=i},function(t,e,n){"use strict";var r=n(2),i=n(1),o=n(0),a=(n.n(o),function(){function t(){}return t.toHeatMapColor=function(t,e,i){var a=i.getNumber(t,e);isNaN(a)&&(a=0);var s=n.i(o.hsl)(i.color||r.a.DEFAULT_COLOR);return s.l=a,s.toString()},t.prototype.createSVG=function(e,r){var o=r.option("rowBarPadding",1);return{template:"<rect class='heatmap "+e.cssClass+"' y='"+o+"' style='fill: "+e.color+"'>\n            <title></title>\n          </rect>",update:function(a,s,c){a.querySelector("title").textContent=e.getLabel(s.v,s.dataIndex);var l=r.rowHeight(c)-2*o;n.i(i.h)(a,{y:o,width:l,height:l},{fill:t.toHeatMapColor(s.v,s.dataIndex,e)})}}},t.prototype.createHTML=function(e,r){var o=r.option("rowBarPadding",1);return{template:"<div class='heatmap "+e.cssClass+"' style='background-color: "+e.color+"; top: "+o+"'></div>",update:function(a,s,c){var l=r.rowHeight(c)-2*o;n.i(i.h)(a,{title:e.getLabel(s.v,s.dataIndex)},{width:l+"px",height:l+"px",top:o+"px","background-color":t.toHeatMapColor(s.v,s.dataIndex,e)})}}},t.prototype.createCanvas=function(e,n){var r=n.option("rowBarPadding",1);return function(i,o,a){var s=n.rowHeight(a)-2*r;i.fillStyle=t.toHeatMapColor(o.v,o.dataIndex,e),i.fillRect(r,r,s,s)}},t}());e.a=a},function(t,e,n){"use strict";var r=n(1),i=function(){function t(){}return t.prototype.createSVG=function(t,e){return{template:"<text class='link text' clip-path='url(#cp"+e.idPrefix+"clipCol"+t.id+")'></text>",update:function(e,n){e.innerHTML=t.isLink(n.v,n.dataIndex)?"<a class='link' xlink:href='"+t.getValue(n.v,n.dataIndex)+"' target='_blank'>"+t.getLabel(n.v,n.dataIndex)+"</a>":t.getLabel(n.v,n.dataIndex)}}},t.prototype.createHTML=function(t){return{template:"<div class='link text'></div>",update:function(e,n){e.style.width=t.getWidth()+"px",e.innerHTML=t.isLink(n.v,n.dataIndex)?"<a class='link' href='"+t.getValue(n.v,n.dataIndex)+"' target='_blank'>"+t.getLabel(n.v,n.dataIndex)+"</a>":t.getLabel(n.v,n.dataIndex)}}},t.prototype.createCanvas=function(t,e){return function(i,o,a,s,c){if(!t.isLink(o.v,o.dataIndex))return void n.i(r.g)(i,t.getLabel(o.v,o.dataIndex),0,0,t.getWidth(),e.textHints);if(e.hovered(o.dataIndex)){var l=n.i(r.k)(e.idPrefix+t.id,s,c);l.style.width=t.getWidth()+"px",l.innerHTML="<a class='link' href='"+t.getValue(o.v,o.dataIndex)+"' target='_blank'>"+t.getLabel(o.v,o.dataIndex)+"</a>"}else{var u=i.fillStyle;i.fillStyle=e.option("style.link",e.option("style.text","black")),n.i(r.g)(i,t.getLabel(o.v,o.dataIndex),0,0,t.getWidth(),e.textHints),i.fillStyle=u}}},t}();e.a=i},function(t,e,n){"use strict";var r=n(1),i=function(){function t(){}return t.prototype.createSVG=function(t){return{template:"<text class='loading'><tspan class='fa'></tspan>Loading…</text>",update:function(){}}},t.prototype.createHTML=function(t){return{template:"<div class='loading'><i class='fa fa-spinner fa-pulse'></i><div>Loading…</div></div>",update:function(){}}},t.prototype.createCanvas=function(t,e){var i=Date.now()%360;return function(o,a,s){n.i(r.g)(o,"Loading…",10,0,t.getWidth()-10,e.textHints);var c=(i+45*s)*(Math.PI/180);o.save(),o.font="10pt FontAwesome",o.textAlign="center";var l=.5*(e.rowHeight(s)-e.textHints.spinnerWidth);o.translate(2,l+.5*e.textHints.spinnerWidth),o.rotate(c),o.translate(0,.5*-e.textHints.spinnerWidth),o.fillText("",0,0),o.restore()}},t}();e.a=i},function(t,e,n){"use strict";var r=n(0),i=(n.n(r),function(){function t(){}return t.prototype.createSVG=function(t,e){var i=t.calculateCellDimension(t.getWidth()),o=t.getColorScale(),a=e.option("rowBarPadding",1);return{template:'<g class="heatmapcell"></g>',update:function(s,c,l){var u=n.i(r.select)(s).selectAll("rect").data(t.getValue(c.v,c.dataIndex));u.enter().append("rect").attr({y:a,width:i,height:e.rowHeight(l)}),u.attr({x:function(t,e){return e*i},fill:o}),u.exit().remove()}}},t.prototype.createHTML=function(t,e){var i=t.calculateCellDimension(t.getWidth()),o=e.option("rowBarPadding",1),a=t.getColorScale();return{template:'<div class="heatmapcell" style="top:'+o+'px;"></div>',update:function(o,s,c){var l=n.i(r.select)(o),u=l.selectAll("div").data(t.getValue(s.v,s.dataIndex));u.enter().append("div").style({widht:i+"px",height:e.rowHeight(c)+"px"}),u.style({"background-color":a,left:function(t,e){return e*i+"px"}})}}},t.prototype.createCanvas=function(t,e){var n=t.calculateCellDimension(t.getWidth()),r=e.option("rowBarPadding",1),i=t.getColorScale();return function(o,a,s){var c=t.getValue(a.v,a.dataIndex),l=e.rowHeight(s);c.forEach(function(t,e){var a=e*n;o.beginPath(),o.fillStyle=String(i(t)),o.fillRect(a,r,n,l)})}},t}());e.a=i},function(t,e,n){"use strict";var r=n(1),i=function(){function t(){}return t.prototype.createSVG=function(t){return{template:"<text class='selection fa'><tspan class='selectionOnly'></tspan><tspan class='notSelectionOnly'></tspan></text>",update:function(e,n){e.onclick=function(e){e.preventDefault(),e.stopPropagation(),t.toggleValue(n.v,n.dataIndex)}}}},t.prototype.createHTML=function(t){return{template:"<div class='selection fa'></div>",update:function(e,n){e.onclick=function(e){e.preventDefault(),e.stopPropagation(),t.toggleValue(n.v,n.dataIndex)}}}},t.prototype.createCanvas=function(t,e){return function(i,o){var a=i.font;i.font="10pt FontAwesome",n.i(r.g)(i,t.getValue(o.v,o.dataIndex)?"":"",0,0,t.getWidth(),e.textHints),i.font=a}},t}();e.a=i},function(t,e,n){"use strict";var r=n(1),i=n(0),o=(n.n(i),function(){function t(){}return t.setPathCalculate=function(t,e){var n=[];return t.forEach(function(t,e){return t?n.push(e):-1}),{left:n[0]*e+e/2,right:n[n.length-1]*e+e/2}},t.prototype.createSVG=function(e,o){var a=e.cellDimension();return{template:"<g class='upsetcell'><path class='upsetpath'></path></g>",update:function(s,c,l){var u=o.rowHeight(l),p=e.getBinaryValue(c.v,c.dataIndex),h=p.some(function(t){return t}),d=n.i(i.select)(s).selectAll("circle").data(p);d.enter().append("circle"),d.attr({cy:function(t,e){return u/2},cx:function(t,e){return e*a+a/2},r:a/4,class:function(t){return t?"setcircle":"setcircleOpacity"}}),d.exit().remove();var f="";if(h){var g=t.setPathCalculate(p,a);f="M"+g.left+","+u/2+"L"+g.right+","+u/2}n.i(r.h)(s.querySelector("path"),{d:f})}}},t.prototype.createCanvas=function(e,n){var r=e.cellDimension();return function(i,o,a){var s=e.getBinaryValue(o.v,o.dataIndex),c=s.some(function(t){return t}),l=n.rowHeight(a),u=l/3;if(i.save(),i.fillStyle="black",i.strokeStyle="black",c){var p=c?t.setPathCalculate(s,r):null;i.beginPath(),i.moveTo(p.left,l/2),i.lineTo(p.right,l/2),i.fill(),i.stroke()}s.forEach(function(t,e){var n=l/2,o=e*r+r/2;i.beginPath(),i.globalAlpha=t?1:.1,i.arc(o,n,u,0,2*Math.PI),i.fill(),i.stroke()}),i.restore()}},t}());e.a=o},function(t,e,n){"use strict";var r=n(1),i=n(0),o=(n.n(i),function(){function t(){}return t.prototype.createSVG=function(t,e){var o=t.getSparklineScale(),a=o.xScale.range([0,t.getWidth()]),s=o.yScale,c=i.svg.line().x(function(t,e){return a(e)}).y(s).interpolate("linear");return{template:"<path class='sparklinecell'></path>",update:function(i,o,a){s.range([e.rowHeight(a),0]),n.i(r.h)(i,{d:c(t.getValue(o.v,o.dataIndex))})}}},t.prototype.createCanvas=function(t,e){var n=t.getSparklineScale(),r=n.xScale.range([0,t.getWidth()]),i=n.yScale;return function(n,o,a){var s,c,l=t.getValue(o.v,o.dataIndex);i.range([e.rowHeight(a),0]),n.strokeStyle="black",n.fillStyle="black",l.forEach(function(t,e){n.beginPath(),n.moveTo(s,c),s=r(e),c=i(t),n.lineTo(s,c),n.stroke(),n.fill()})}},t}());e.a=o},function(t,e,n){"use strict";var r=n(1),i=function(){function t(t){void 0===t&&(t=!0),this.nestingPossible=t}return t.prototype.createData=function(t,e){var n=this.nestingPossible&&e.option("stacked",!0),r=e.option("columnPadding",0),i=0;return t.children.map(function(t){var o=i;return i+=t.getWidth(),i+=n?0:r,{column:t,shift:o,stacked:n,renderer:e.renderer(t)}})},t.prototype.createSVG=function(t,e){var i=this.createData(t,e);return{template:"<g class='stack component"+e.option("stackLevel",0)+"'>"+i.map(function(t){return t.renderer.template}).join("")+"</g>",update:function(t,e,o){var a=0;n.i(r.i)(t,i),i.forEach(function(n,r){var i=t.childNodes[r];i.setAttribute("transform","translate("+(n.shift-a)+",0)"),n.renderer.update(i,e,o),n.stacked&&(a+=n.column.getWidth()*(1-n.column.getValue(e.v,e.dataIndex)))})}}},t.prototype.createHTML=function(t,e){var i=this.createData(t,e);return{template:"<div class='stack component"+e.option("stackLevel",0)+"'>"+i.map(function(t){return t.renderer.template}).join("")+"</div>",update:function(t,e,o){var a=0;n.i(r.i)(t,i,"html"),i.forEach(function(n,r){var i=t.childNodes[r];i.style.transform="translate("+(n.shift-a)+"px,0)",n.renderer.update(i,e,o),n.stacked&&(a+=n.column.getWidth()*(1-n.column.getValue(e.v,e.dataIndex)))})}}},t.prototype.createCanvas=function(t,e){var n=this.createData(t,e);return function(t,e,r,i,o){var a=0;n.forEach(function(n){var s=n.shift-a;t.translate(s,0),n.renderer(t,e,r,i+s,o),t.translate(-s,0),n.stacked&&(a+=n.column.getWidth()*(1-n.column.getValue(e.v,e.dataIndex)))})}},t}();e.a=i},function(t,e,n){"use strict";var r=n(28),i=function(){function t(){this.alignments={left:new r.a,right:new r.a("text_right","right"),center:new r.a("text_center","center")}}return t.prototype.createSVG=function(t,e){return this.alignments[t.alignment].createSVG(t,e)},t.prototype.createHTML=function(t,e){return this.alignments[t.alignment].createHTML(t,e)},t.prototype.createCanvas=function(t,e){return this.alignments[t.alignment].createCanvas(t,e)},t}();e.a=i},function(t,e,n){"use strict";var r=n(0),i=(n.n(r),function(){function t(){}return t.prototype.createSVG=function(t,e){var i=t.calculateCellDimension(t.getWidth()),o=t.getThreshold(),a=t.getColorScale().range();return{template:"<g class='thresholdcell'></g>",update:function(s,c,l){var u=e.rowHeight(l),p=n.i(r.select)(s).selectAll("rect").data(t.getValue(c.v,c.dataIndex));p.enter().append("rect"),p.attr({y:function(t,e){return t<o?u/2:0},x:function(t,e){return e*i},width:i,height:function(t,e){return u/2},fill:function(t){return t<o?a[0]:a[2]}}),p.exit().remove()}}},t.prototype.createCanvas=function(t,e){var n=t.calculateCellDimension(t.getWidth()),r=t.getThreshold(),i=t.getColorScale().range();return function(o,a,s){var c=t.getValue(a.v,a.dataIndex),l=e.rowHeight(s);c.forEach(function(t,e){o.beginPath();var a=e*n,s=t<r?l/2:0;o.fillStyle=t<r?i[0]:i[2],o.fillRect(a,s,n,l/2)})}},t}());e.a=i},function(t,e,n){"use strict";var r=n(0),i=(n.n(r),function(){function t(){}return t.verticalBarScale=function(t,e,n,r){return t[0]<e?n.range([0,r/2]):n.range([0,r])},t.verticalBarYpos=function(t,e,n,r,i){return t[0]<e?n<e?i/2:i/2-r(n):i-r(n)},t.verticalBarHeight=function(t,e,n,r,i){return t[0]<e?i/2-r(n):r(n)},t.prototype.createSVG=function(e,i){var o=e.getColorScale(),a=e.calculateCellDimension(e.getWidth()),s=e.getVerticalBarScale(),c=e.getThreshold(),l=e.getDomain();return{template:"<g class='verticalbarcell'></g>",update:function(u,p,h){var d=i.rowHeight(h),f=t.verticalBarScale(l,c,s,d),g=n.i(r.select)(u).selectAll("rect").data(e.getValue(p.v,p.dataIndex));g.enter().append("rect").attr("width",a),g.attr({y:function(e){return t.verticalBarYpos(l,c,e,f,d)},x:function(t,e){return e*a},height:function(e){return t.verticalBarHeight(l,c,e,f,d)},fill:o}),g.exit().remove()}}},t.prototype.createCanvas=function(e,n){var r=e.getColorScale(),i=e.calculateCellDimension(e.getWidth()),o=e.getVerticalBarScale(),a=e.getThreshold(),s=e.getDomain();return function(c,l,u){var p=e.getValue(l.v,l.dataIndex),h=n.rowHeight(u),d=t.verticalBarScale(s,a,o,h);p.forEach(function(e,n){var o=n*i,l=t.verticalBarYpos(s,a,e,d,h);c.fillStyle=String(r(e)),c.fillRect(o,l,i,t.verticalBarHeight(s,a,e,d,h))})}},t}());e.a=i},function(t,e,n){"use strict";var r=n(0),i=(n.n(r),n(1)),o=n(20),a=n(7),s=n(21),c=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},l=function(t){function e(r,o,a,s){void 0===s&&(s={});var c=t.call(this,r,o,a,"div",n.i(i.a)({},e.CUSTOM_OPTIONS,s))||this;return c.currentFreezeLeft=0,c.currentHover=-1,c.lastShifts=[],c.$node.append("canvas"),c.initInteraction(),c}return c(e,t),e.prototype.columnUnderMouse=function(t){for(var e=0,n=this.lastShifts;e<n.length;e++){var r=n[e];if(r.shift<=t&&t<r.shift+r.column.getWidth())return r.column}return null},e.prototype.rowUnderMouse=function(t){var e=this.options.rowHeight;return Math.floor((t+1)/e)},e.prototype.itemUnderMouse=function(t){var e=this.rowUnderMouse(t[1]);if(e<0)return null;var n=this.columnUnderMouse(t[0]);return null===n?null:{dataIndex:n.findMyRanker().getOrder()[e],column:n}},e.prototype.initInteraction=function(){var t=this;this.$node.on("selectstart",function(){return r.event.preventDefault()}),this.$node.on("mousemove",function(){var e=n.i(r.mouse)(t.node),i=t.itemUnderMouse(e);t.mouseOver(i?i.dataIndex:-1)}),this.$node.on("mouseenter",function(){t.mouseOver(-1,!1)}),this.$node.on("mouseleave",function(){t.mouseOver(-1,!1)}),this.$node.on("click",function(){var e=n.i(r.mouse)(t.node),i=t.itemUnderMouse(e);i&&t.select(i.dataIndex,r.event.ctrlKey||i.column instanceof o.a)})},e.prototype.style=function(t){return(this.options.style||{})[t]},e.prototype.select=function(e,n){void 0===n&&(n=!1);var r=t.prototype.select.call(this,e,n);return this.update(),r},e.prototype.drawSelection=function(){this.update()},e.prototype.updateFreeze=function(t){this.currentFreezeLeft=t,this.update()},e.prototype.mouseOver=function(e,r){void 0===r&&(r=!0),r!==(this.currentHover===e)&&(this.currentHover=e,t.prototype.mouseOver.call(this,e,e>=0),(!r||e<0)&&n.i(i.e)(),this.update())},e.prototype.isHovered=function(t){return this.currentHover===t},e.prototype.renderRow=function(t,e,n,r,i){var o=r.dataIndex,a=n.shift,s=e.cellY(i);t.translate(a,s),i%2==0&&(t.fillStyle=this.style("bg"),t.fillRect(0,0,n.width,e.rowHeight(i)),t.fillStyle=this.style("text")),this.data.isSelected(o)?(t.strokeStyle=this.style("selection"),t.strokeRect(0,0,n.width,e.rowHeight(i))):this.isHovered(o)&&(t.strokeStyle=this.style("hover"),t.strokeRect(0,0,n.width,e.rowHeight(i))),t.save();var c=this.currentFreezeLeft<n.shift?0:Math.min(this.currentFreezeLeft-n.shift,n.width-n.frozenWidth);n.frozenWidth>0&&c>0&&(t.rect(a+c+n.frozenWidth,0,n.width,e.rowHeight(i)),t.clip()),n.columns.forEach(function(e){t.save(),t.translate(e.shift,0),e.renderer(t,r,i,a+e.shift,s),t.restore()}),t.restore(),t.translate(c,0),a+=c,n.frozen.forEach(function(e){t.save(),t.translate(e.shift,0),e.renderer(t,r,i,a+e.shift,s),t.restore()}),t.translate(-a,-s)},e.prototype.renderMeanlines=function(t,e,n){var r=this,i=e.columns.filter(function(t){return r.showMeanLine(t.column)});return Promise.all(i.map(function(e){var i=r.histCache.get(e.column.id);if(i)return i.then(function(i){var o=e.shift+e.column.getWidth()*i.mean;isNaN(o)||(t.strokeStyle=r.style("meanLine"),t.beginPath(),t.moveTo(o,0),t.lineTo(o,n),t.stroke())})}))},e.prototype.renderRankings=function(t,e,n,r){var i=this,o=this.renderRow.bind(this,t,n),a=Promise.all.bind(Promise);return a(e.map(function(e){return a(e.data.map(function(t,n){return t.then(function(t){return o(e,t,n)})})).then(function(){return i.renderMeanlines(t,e,r)})}))},e.prototype.renderSlopeGraphs=function(t,e,n){var r=this,i=e.slice(1).map(function(t,n){return{left:e[n].order,left_i:n,right:t.order,right_i:n+1}});t.save(),t.strokeStyle=this.style("slope"),i.forEach(function(i,o){t.save(),t.translate(e[o+1].shift-r.options.slopeWidth,0);var a=new Map;i.right.forEach(function(t,e){a.set(t,e)}),i.left.map(function(t,e){return{dataIndex:t,lpos:e,rpos:a.get(t)}}).filter(function(t){return null!=t.rpos}).forEach(function(e){var i=r.data.isSelected(e.dataIndex),o=r.isHovered(e.dataIndex);i?t.strokeStyle=r.style("selection"):o&&(t.strokeStyle=r.style("hover")),t.beginPath(),t.moveTo(0,.5*n.rowHeight(e.lpos)+n.cellY(e.lpos)),t.lineTo(r.options.slopeWidth,.5*n.rowHeight(e.rpos)+n.cellY(e.rpos)),t.stroke(),(i||o)&&(t.strokeStyle=r.style("slope"))}),t.restore()}),t.restore()},e.prototype.createContextImpl=function(t){var e=this,n=this.createContext(t,a.createCanvas);return n.hovered=this.isHovered.bind(this),n.selected=function(t){return e.data.isSelected(t)},n},e.prototype.computeShifts=function(t){var e=this,n=[];return t.forEach(function(t){var r=t.shift;n.push.apply(n,t.frozen.map(function(t){return{column:t.column,shift:t.shift+r+e.currentFreezeLeft}})),n.push.apply(n,t.columns.map(function(t){return{column:t.column,shift:t.shift+r}}))}),n},e.prototype.updateImpl=function(t,e,r,o,a){var s=this.$node.select("canvas"),c=Math.max(e.cellY(0)-20,0),l=Math.min(e.cellY(Math.max.apply(Math,t.map(function(t){return t.order.length})))+20,o);this.$node.style({width:Math.max(0,r)+"px",height:o+"px"}),s.attr({width:Math.max(0,r),height:l-c}).style("margin-top",c+"px"),this.lastShifts=this.computeShifts(t);var u=s.node().getContext("2d");return u.save(),u.font=this.style("font"),u.textBaseline="top",u.fillStyle=this.style("text"),u.clearRect(0,0,u.canvas.width,u.canvas.height),e.textHints=n.i(i.f)(u,this.style("font")),u.translate(0,-c),this.renderSlopeGraphs(u,t,e),this.renderRankings(u,t,e,o).then(function(){u.restore()})},e}(s.a);e.a=l,l.CUSTOM_OPTIONS={style:{text:"black",font:'10pt "Helvetica Neue", Helvetica, Arial, sans-serif',slope:"darkgray",link:"blue",selection:"#ffa500",hover:"#e5e5e5",bg:"#f7f7f7",meanLine:"darkgray"}}},function(t,e,n){"use strict";var r=n(7),i=n(29),o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a={root:"div",g:"div",setSize:function(t,e,n){t.style.width=e+"px",t.style.height=n+"px"},bg:"div",updateBG:function(t,e){t.style({height:function(t,n,r){return e(t,n,r)[1]+"px"},width:function(t,n,r){return e(t,n,r)[0]+"px"}})},meanLine:"div",updateMeanLine:function(t,e,n){t.style("left",e+"px").style("height",n+"px")},slopes:"svg",updateSlopes:function(t,e,n,r){t.attr("width",e).attr("height",n).style("left",function(t,e){return r(t,e)+"px"})},creator:r.createHTML,translate:function(t,e,n){return t.style.transform="translate("+e+"px,"+n+"px)"},transform:function(t,e){t.style("transform",function(t,n){var r=e(t,n);return"translate("+r[0]+"px,"+r[1]+"px)"})}},s=function(t){function e(e,n,r,i){return void 0===i&&(i={}),t.call(this,e,n,r,a,i)||this}return o(e,t),e.prototype.updateClipPaths=function(t,e,n){},e}(i.a);e.a=s},function(t,e,n){"use strict";var r=n(0),i=(n.n(r),n(1)),o=n(12),a=n(8),s=n(30),c=function(){function t(t){this.desc=t,this.used=0}return t}(),l=function(){function t(t,e,o){void 0===o&&(o={}),this.data=t,this.options={layout:"vertical",elemWidth:100,elemHeight:40,width:100,height:500,additionalDesc:[],hideUsed:!0,addAtEndOnClick:!1},n.i(i.a)(this.options,o),this.$node=n.i(r.select)(e).append("div").classed("lu-pool",!0),this.changeDataStorage(t)}return t.prototype.changeDataStorage=function(t){var e=this;if(this.data&&this.data.on([a.a.EVENT_ADD_COLUMN+".pool",a.a.EVENT_REMOVE_COLUMN+".pool",a.a.EVENT_ADD_RANKING+".pool",a.a.EVENT_REMOVE_RANKING+".pool",a.a.EVENT_ADD_DESC+".pool"],null),this.data=t,this.entries=t.getColumns().concat(this.options.additionalDesc).map(function(t){return new c(t)}),t.on(a.a.EVENT_ADD_DESC+".pool",function(t){e.entries.push(new c(t)),e.update()}),this.options.hideUsed){var n=this;t.on([a.a.EVENT_ADD_COLUMN+".pool",a.a.EVENT_REMOVE_COLUMN+".pool"],function(t){var e=t.desc,r="addColumn"===this.type?1:-1;n.entries.some(function(t){return t.desc===e&&(t.used+=r,!0)}),n.update()}),t.on([a.a.EVENT_ADD_RANKING+".pool",a.a.EVENT_REMOVE_RANKING+".pool"],function(t){var e=t.flatColumns.map(function(t){return t.desc}),r="addRanking"===this.type?1:-1;n.entries.some(function(t){return!(e.indexOf(t.desc)<0)&&(t.used+=r,!0)}),n.update()}),t.getRankings().forEach(function(t){var e=t.flatColumns.map(function(t){return t.desc});n.entries.some(function(t){if(e.indexOf(t.desc)<0)return!1;t.used+=1})})}},t.prototype.remove=function(){this.$node.remove(),this.data&&this.data.on([a.a.EVENT_ADD_COLUMN+".pool",a.a.EVENT_REMOVE_COLUMN+".pool","addRanking.pool","removeRanking.pool","addDesc.pool"],null)},t.prototype.update=function(){var t=this,e=this.data,i=this.entries.filter(function(t){return 0===t.used}).map(function(t){return t.desc}),a=this.$node.selectAll("div.header").data(i),c=a.enter().append("div").attr({class:"header",draggable:!0}).on("dragstart",function(t){var i=r.event;i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData("text/plain",t.label),i.dataTransfer.setData("application/caleydo-lineup-column",JSON.stringify(e.toDescRef(t))),n.i(o.isNumberColumn)(t)&&i.dataTransfer.setData("application/caleydo-lineup-column-number",JSON.stringify(e.toDescRef(t)))}).style({width:this.options.elemWidth+"px",height:this.options.elemHeight+"px"});switch(this.options.addAtEndOnClick&&c.on("click",function(e){t.data.push(t.data.getLastRanking(),e)}),c.append("span").classed("label",!0).text(function(t){return t.label}),a.attr("class",function(t){return"header "+(t.cssClass||"")+" "+t.type}),a.style({transform:function(e,n){var r=t.layout(n);return"translate("+r.x+"px,"+r.y+"px)"},"background-color":function(t){var e=t;return e.cssClass?null:e.color||o.Column.DEFAULT_COLOR}}),a.attr({title:function(t){return n.i(s.c)(t)}}),a.select("span").text(function(t){return t.label}),a.exit().remove(),this.options.layout){case"horizontal":this.$node.style({width:this.options.elemWidth*i.length+"px",height:this.options.elemHeight+"px"});break;case"grid":var l=n.i(r.round)(this.options.width/this.options.elemWidth,0);this.$node.style({width:l*this.options.elemWidth+"px",height:Math.ceil(i.length/l)*this.options.elemHeight+"px"});break;default:this.$node.style({width:this.options.elemWidth+"px",height:this.options.elemHeight*i.length+"px"})}},t.prototype.layout=function(t){switch(this.options.layout){case"horizontal":return{x:t*this.options.elemWidth,y:0};case"grid":var e=n.i(r.round)(this.options.width/this.options.elemWidth,0);return{x:t%e*this.options.elemWidth,y:Math.floor(t/e)*this.options.elemHeight};default:return{x:0,y:t*this.options.elemHeight}}},t}();e.a=l},function(t,e,n){"use strict";var r=n(0),i=(n.n(r),n(7)),o=n(29),a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s={svg:{root:"svg",g:"g",setSize:function(t,e,n){t.setAttribute("width",String(e)),t.setAttribute("height",String(n))},bg:"rect",updateBG:function(t,e){t.attr({height:function(t,n,r){return e(t,n,r)[1]},width:function(t,n,r){return e(t,n,r)[0]}})},meanLine:"line",updateMeanLine:function(t,e,n){t.attr("x1",1+e).attr("x2",1+e).attr("y2",n)},slopes:"g",updateSlopes:function(t,e,n,r){t.attr("transform",function(t,e){return"translate("+r(t,e)+",0)"})},creator:i.createSVG,translate:function(t,e,n){return t.setAttribute("transform","translate("+e+","+n+")")},transform:function(t,e){t.attr("transform",function(t,n){var r=e(t,n);return"translate("+r[0]+","+r[1]+")"})}}},c=function(t){function e(e,n,r,i){return void 0===i&&(i={}),t.call(this,e,n,r,s.svg,i)||this}return a(e,t),e.prototype.updateClipPathsImpl=function(t,e,n){var r=this.$node.select("defs.body");r.empty()&&(r=this.$node.append("defs").classed("body",!0));var i=r.selectAll(function(){return this.getElementsByTagName("clipPath")}).data(t,function(t){return t.id});i.enter().append("clipPath").attr("id",function(t){return"cp"+e.idPrefix+"clipCol"+t.id}).append("rect").attr("y",0),i.exit().remove(),i.select("rect").attr({x:0,width:function(t){return Math.max(t.getWidth()-5,0)},height:n})},e.prototype.updateClipPaths=function(t,e,i){var o=this,a=[],s=0;t.forEach(function(t){s+=t.ranking.flatten(a,s,2,o.options.columnPadding)+o.options.slopeWidth}),this.updateClipPathsImpl(a.map(function(t){return t.col}),e,i);var c=this.$node.select("clipPath#c"+e.idPrefix+"Freeze");c.empty()&&(c=this.$node.append("clipPath").attr("id","c"+e.idPrefix+"Freeze").append("rect").attr({y:0,width:2e4,height:i}));var l=0===t.length||0===t[0].frozen.length?0:n.i(r.max)(t[0].frozen,function(t){return t.shift+t.column.getWidth()});c.select("rect").attr({x:l,height:i,transform:"translate("+this.currentFreezeLeft+",0)"})},e}(o.a);e.a=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(8);n.d(e,"DataProvider",function(){return r.a});var i=n(34);n.d(e,"LocalDataProvider",function(){return i.a});var o=n(77);n.d(e,"RemoteDataProvider",function(){return o.a})},,function(t,e,n){"use strict";var r=n(1),i=n(33),o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(e,i,o){void 0===i&&(i=[]),void 0===o&&(o={});var a=t.call(this,i,o)||this;return a.server=e,a.options={maxCacheSize:1e3},a.cache=new Map,n.i(r.a)(a.options,o),a}return o(e,t),e.prototype.sortImpl=function(t){var e=t.toSortingDesc(function(t){return t.column});return this.server.sort(e)},e.prototype.loadFromServer=function(t){return this.server.view(t).then(function(e){return e.map(function(e,n){return{v:e,dataIndex:t[n]}})})},e.prototype.view=function(t){if(0===t.length)return Promise.resolve([]);var e=this.fetch([t])[0];return Promise.all(e).then(function(t){return t.map(function(t){return t.v})})},e.prototype.computeMissing=function(t){var e=new Set,n=e.add.bind(e);t.forEach(function(t){return t.forEach(n)}),this.cache.forEach(function(t,n){return e.delete(n)}),this.cache.size,e.size,this.options.maxCacheSize;var r=[];return e.forEach(r.push.bind(r)),r},e.prototype.loadInCache=function(t){var e=this;if(0!==t.length){var n=this.loadFromServer(t);t.forEach(function(r,i){var o=t[i];e.cache.set(o,n.then(function(t){return{v:t[i],dataIndex:o}}))})}},e.prototype.fetch=function(t){var e=this,n=this.computeMissing(t);return this.loadInCache(n),t.map(function(t){return t.map(function(t){return e.cache.get(t)})})},e.prototype.mappingSample=function(t){return this.server.mappingSample(t.desc.column)},e.prototype.searchAndJump=function(t,e){var n=this;this.server.search(t,e.desc.column).then(function(t){n.jumpToNearest(t)})},e.prototype.stats=function(t){return this.server.stats(t)},e}(i.a);e.a=a},function(t,e,n){"use strict";function r(t,e,n){return void 0===n&&(n={}),new s.LocalDataProvider(t,e,n)}function i(t,e,n){return void 0===n&&(n={}),new u.a(e,t,n)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(32),a=(n.n(o),n(12)),s=n(75),c=n(7),l=n(31),u=n(22);n.d(e,"deriveColors",function(){return u.b}),n.d(e,"model",function(){return p}),n.d(e,"provider",function(){return h}),n.d(e,"renderer",function(){return d}),n.d(e,"ui",function(){return f}),e.createLocalStorage=r,e.create=i;var p=a,h=s,d=c,f=l}])});